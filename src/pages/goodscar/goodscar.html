<ion-header style="min-height:43px">
  <ion-navbar style="top:-100px;position:absolute;">
    <ion-title mode="ios" style="top:-100px;position:absolute;">购物车——逛贝商城</ion-title>
  </ion-navbar>
  <div class="car-title">
    <div *ngIf="type==1" tappable (click)="goback()">
      <img [src]="img5" alt="">
    </div>
    <div *ngIf="type==0"></div>
    <div>购物车</div>
    <div *ngIf="type==0"></div>
    <div class="message">
      <img tappable (click)="QRcode()" [src]="img9" alt="">
    </div>
    
  </div>
</ion-header>
<ion-content style="background:#e5e5e5">
  <!--  <div style="width:100%;height:43px;"></div> -->
  <div class="carlist" *ngIf="Property">
    <span style="display:block;margin-bottom:10px;background:#fff;" *ngFor="let item of goodslist ;let a=index">
      <div class="list-title" *ngIf="item.List.length>0" >
        <div class="list-title_left">
          <div>
            <img *ngIf="num1[a]==true" [src]="img" tappable (click)="largenum(a)">
            <img *ngIf="num1[a]==false" [src]="img2" tappable (click)="largenum(a)">
          </div>
          <div>{{item.StoreName!=null?item.StoreName:'自营'}}</div>
        </div>
        <!-- <div style="color:#ff5c00" tappable (click)="showCouponList()">优惠券</div> -->
      </div>
      <div class="good-item" *ngFor="let item2 of item.List ; let i=index">
        <div tappable (click)="additem(b,i)">
          <img *ngIf="item2.isCheck==1" [src]="img" tappable (click)="gototrue(a,i)">
          <img *ngIf="item2.isCheck==0" [src]="img2" tappable (click)="gototrue(a,i)">
        </div>
        <div>
          <img tappable (click)="gotoGoodDetail(item2.ProductId)" [src]="item2.PicUrl" alt="">
          <div class="goodsintro">
            <div>{{item2.Name}}</div>
            <div class="item-price">
              <div>
                <span class="baseColor">
                  ￥{{item2.Price.toFixed(2)}}
                </span>
              </div>
              <div style="color:#b6b6b6;text-decoration:line-through">
                <span>
                  ￥{{item2.OldPrice.toFixed(2)}}
                </span>
              </div>
            </div>
            <div>
              <div style="border-right:none;text-align:center;line-height:20px;" tappable (click)="jiannum(a,i,item2.ID)">
                <img [src]="img7" alt="">
              </div>
              <div style="line-height:20px;text-align:center">{{item2.Quantity}}</div>
              <div style="border-left:none;text-align:center;font-size:15px;line-height:20px;" tappable (click)="addnum(a,i,item2.ID)">
                <img [src]="img8" alt="">
              </div>
            </div>
            <div *ngIf="item2.AttrName!=''&&item2.AttrName!=null" [innerHTML]="item2.AttrName">
            </div>
          </div>
        </div>
        <div tappable (click)="DeleteGoods(item2.ID,i,a)">
          删除
        </div>
      </div>
    </span>
  </div>
  <div style="width:100%;height:40px;"></div>
  <div class="no-goods" *ngIf="showflag">
    <img [src]="img4" alt="">
    <div>购物车还是空的哦</div>
  </div>
</ion-content>
<ion-footer>
  <div [ngClass]="{true:'car-totil',false:'car-totil2'}[type==0]" *ngIf="Property">
    <div tappable (click)="choseall()">
      <img *ngIf="flagall" [src]="img" alt="">
      <img *ngIf="!flagall" [src]="img2" alt=""> 全选
    </div>
    <div>合计:￥{{(totalnum/100).toFixed(2)}}</div>
    <div tappable (click)="gotosettlement()">去结算</div>
  </div>


</ion-footer>
<!-- <div class="cover" *ngIf="coupon_flag" [ngClass]="{true:'goshow',false:'gohide'}[coupon_flag1]">
  <div class="clickbtn" tappable (click)="hide()"></div>
  <div class="alertpart2" [ngClass]="{true:'goup',false:'godown'}[coupon_flag1]"></div>
</div> -->