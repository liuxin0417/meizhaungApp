webpackJsonp([20],{691:function(l,n,e){"use strict";function t(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,12,"div",[["class","goodsitem"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["",""])),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["X",""])),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["","元"])),(l()(),b["ɵted"](null,["\n  "]))],null,function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.Url),l(n,5,0,e.slice(n.context.$implicit.Name)),l(n,8,0,n.context.$implicit.num),l(n,11,0,n.context.$implicit.Price)})}function u(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,40,"div",[["class","useritem"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,11,"div",[["class","useritem1"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["收货人："])),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,5,"input",[["placeholder","必填"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,u=l.component;return"input"===n&&(t=!1!==b["ɵnov"](l,8)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==b["ɵnov"](l,8).onTouched()&&t),"compositionstart"===n&&(t=!1!==b["ɵnov"](l,8)._compositionStart()&&t),"compositionend"===n&&(t=!1!==b["ɵnov"](l,8)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(u.name=e)&&t),t},null,null)),b["ɵdid"](16384,null,0,X.DefaultValueAccessor,[b.Renderer2,b.ElementRef,[2,X.COMPOSITION_BUFFER_MODE]],null,null),b["ɵprd"](1024,null,X.NG_VALUE_ACCESSOR,function(l){return[l]},[X.DefaultValueAccessor]),b["ɵdid"](671744,null,0,X.NgModel,[[8,null],[8,null],[8,null],[2,X.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),b["ɵprd"](2048,null,X.NgControl,null,[X.NgModel]),b["ɵdid"](16384,null,0,X.NgControlStatus,[X.NgControl],null,null),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,11,"div",[["class","useritem1"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["联系电话："])),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,5,"input",[["placeholder","必填"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,u=l.component;return"input"===n&&(t=!1!==b["ɵnov"](l,21)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==b["ɵnov"](l,21).onTouched()&&t),"compositionstart"===n&&(t=!1!==b["ɵnov"](l,21)._compositionStart()&&t),"compositionend"===n&&(t=!1!==b["ɵnov"](l,21)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(u.phone=e)&&t),t},null,null)),b["ɵdid"](16384,null,0,X.DefaultValueAccessor,[b.Renderer2,b.ElementRef,[2,X.COMPOSITION_BUFFER_MODE]],null,null),b["ɵprd"](1024,null,X.NG_VALUE_ACCESSOR,function(l){return[l]},[X.DefaultValueAccessor]),b["ɵdid"](671744,null,0,X.NgModel,[[8,null],[8,null],[8,null],[2,X.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),b["ɵprd"](2048,null,X.NgControl,null,[X.NgModel]),b["ɵdid"](16384,null,0,X.NgControlStatus,[X.NgControl],null,null),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,11,"div",[["class","useritem1"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["收货地址："])),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,5,"input",[["placeholder","必填"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,u=l.component;return"input"===n&&(t=!1!==b["ɵnov"](l,34)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==b["ɵnov"](l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==b["ɵnov"](l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==b["ɵnov"](l,34)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(u.address=e)&&t),t},null,null)),b["ɵdid"](16384,null,0,X.DefaultValueAccessor,[b.Renderer2,b.ElementRef,[2,X.COMPOSITION_BUFFER_MODE]],null,null),b["ɵprd"](1024,null,X.NG_VALUE_ACCESSOR,function(l){return[l]},[X.DefaultValueAccessor]),b["ɵdid"](671744,null,0,X.NgModel,[[8,null],[8,null],[8,null],[2,X.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),b["ɵprd"](2048,null,X.NgControl,null,[X.NgModel]),b["ɵdid"](16384,null,0,X.NgControlStatus,[X.NgControl],null,null),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵted"](null,["\n  "]))],function(l,n){var e=n.component;l(n,10,0,e.name),l(n,23,0,e.phone),l(n,36,0,e.address)},function(l,n){l(n,7,0,b["ɵnov"](n,12).ngClassUntouched,b["ɵnov"](n,12).ngClassTouched,b["ɵnov"](n,12).ngClassPristine,b["ɵnov"](n,12).ngClassDirty,b["ɵnov"](n,12).ngClassValid,b["ɵnov"](n,12).ngClassInvalid,b["ɵnov"](n,12).ngClassPending),l(n,20,0,b["ɵnov"](n,25).ngClassUntouched,b["ɵnov"](n,25).ngClassTouched,b["ɵnov"](n,25).ngClassPristine,b["ɵnov"](n,25).ngClassDirty,b["ɵnov"](n,25).ngClassValid,b["ɵnov"](n,25).ngClassInvalid,b["ɵnov"](n,25).ngClassPending),l(n,33,0,b["ɵnov"](n,38).ngClassUntouched,b["ɵnov"](n,38).ngClassTouched,b["ɵnov"](n,38).ngClassPristine,b["ɵnov"](n,38).ngClassDirty,b["ɵnov"](n,38).ngClassValid,b["ɵnov"](n,38).ngClassInvalid,b["ɵnov"](n,38).ngClassPending)})}function i(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img13)})}function o(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img4)})}function s(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img13)})}function a(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img4)})}function d(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,18,"div",[["class","weixinpay"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.component.paytype=1)&&t),t},null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,3,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["支付宝"])),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,7,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,s)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,a)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n        "]))],function(l,n){var e=n.component;l(n,13,0,1==e.paytype),l(n,16,0,1!=e.paytype)},function(l,n){l(n,4,0,n.component.img5)})}function r(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["余额(",")"]))],null,function(l,n){l(n,1,0,n.component.user.Money)})}function c(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img13)})}function f(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img4)})}function g(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["积分(",")"]))],null,function(l,n){l(n,1,0,n.component.user.Gift)})}function p(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img13)})}function h(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.img4)})}function v(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,79,"div",[["class","cover"]],null,null,null,null,null)),b["ɵdid"](278528,null,0,K.g,[b.IterableDiffers,b.KeyValueDiffers,b.ElementRef,b.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),b["ɵpod"]({true:0,false:1}),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,0,"div",[["class","clickbtn"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.hide()&&t),t},null,null)),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,72,"div",[["class","alertpart2"]],null,null,null,null,null)),b["ɵdid"](278528,null,0,K.g,[b.IterableDiffers,b.KeyValueDiffers,b.ElementRef,b.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),b["ɵpod"]({true:0,false:1}),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,64,"div",[["class","pay-type"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵeld"](0,null,null,18,"div",[["class","weixinpay"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.component.paytype=2)&&t),t},null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,3,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["微信支付"])),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,7,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,i)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,o)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵand"](16777216,null,null,1,null,d)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵeld"](0,null,null,18,"div",[["class","weixinpay"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.UseYue()&&t),t},null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,3,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵand"](16777216,null,null,1,null,r)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,7,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,c)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,f)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵeld"](0,null,null,18,"div",[["class","weixinpay"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.UseGift()&&t),t},null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,3,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵand"](16777216,null,null,1,null,g)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵeld"](0,null,null,7,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,p)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n            "])),(l()(),b["ɵand"](16777216,null,null,1,null,h)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n          "])),(l()(),b["ɵted"](null,["\n        "])),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵted"](null,["\n      "])),(l()(),b["ɵeld"](0,null,null,1,"div",[["class","btnAll2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.payOrder()&&t),t},null,null)),(l()(),b["ɵted"](null,["支付"])),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵted"](null,["\n\n  "]))],function(l,n){var e=n.component;l(n,1,0,"cover",l(n,2,0,"goshow","gohide")[e.showflag]);l(n,7,0,"alertpart2",l(n,8,0,"goup","godown")[e.showflag]),l(n,25,0,2==e.paytype),l(n,28,0,2!=e.paytype),l(n,33,0,!e.isweb),l(n,43,0,null!=e.user),l(n,48,0,e.yuenum),l(n,51,0,!e.yuenum),l(n,63,0,null!=e.user),l(n,68,0,e.giftnum),l(n,71,0,!e.giftnum)},function(l,n){var e=n.component;l(n,16,0,e.img12),l(n,39,0,e.img6),l(n,59,0,e.img7)})}function m(l){return b["ɵvid"](0,[(l()(),b["ɵted"](null,["\n"])),(l()(),b["ɵeld"](0,null,null,10,"ion-header",[["style","min-height: 44px;"]],null,null,null,null,null)),b["ɵdid"](16384,null,0,z.a,[q.a,b.ElementRef,b.Renderer,[2,$.a]],null,null),(l()(),b["ɵted"](null,["\n\n  "])),(l()(),b["ɵeld"](0,null,null,6,"ion-navbar",[["class","toolbar"],["mode","ios"],["style","min-height: 44px;"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Q.b,Q.a)),b["ɵdid"](49152,null,0,Y.a,[Z.a,[2,$.a],[2,ll.a],q.a,b.ElementRef,b.Renderer],{mode:[0,"mode"]},null),(l()(),b["ɵted"](3,["\n    "])),(l()(),b["ɵeld"](0,null,3,2,"ion-title",[["mode","ios"]],null,null,null,nl.b,nl.a)),b["ɵdid"](49152,null,0,el.a,[q.a,b.ElementRef,b.Renderer,[2,tl.a],[2,Y.a]],{mode:[0,"mode"]},null),(l()(),b["ɵted"](0,["结算"])),(l()(),b["ɵted"](3,["\n  "])),(l()(),b["ɵted"](null,["\n\n"])),(l()(),b["ɵted"](null,["\n\n\n"])),(l()(),b["ɵeld"](0,null,null,17,"ion-content",[["style","background:#eee;"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(l,n,e){var t=!0;return"window:resize"===n&&(t=!1!==b["ɵnov"](l,14).resize()&&t),t},ul.b,ul.a)),b["ɵdid"](4374528,null,0,il.a,[q.a,ol.a,sl.a,b.ElementRef,b.Renderer,Z.a,al.a,b.NgZone,[2,$.a],[2,ll.a]],null,null),(l()(),b["ɵted"](1,["\n  "])),(l()(),b["ɵand"](16777216,null,1,1,null,t)),b["ɵdid"](802816,null,0,K.h,[b.ViewContainerRef,b.TemplateRef,b.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),b["ɵted"](1,["\n  "])),(l()(),b["ɵeld"](0,null,1,4,"div",[["class","total"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),b["ɵted"](null,["合计：",""])),(l()(),b["ɵted"](null,["\n  "])),(l()(),b["ɵted"](1,["\n  "])),(l()(),b["ɵted"](1,["\n  "])),(l()(),b["ɵand"](16777216,null,1,1,null,u)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](1,["\n  "])),(l()(),b["ɵeld"](0,null,1,0,"div",[["style","height:44px;width:100%;"]],null,null,null,null,null)),(l()(),b["ɵted"](1,["\n\n\n"])),(l()(),b["ɵted"](null,["\n"])),(l()(),b["ɵeld"](0,null,null,14,"ion-footer",[],null,null,null,null,null)),b["ɵdid"](16384,null,0,dl.a,[q.a,b.ElementRef,b.Renderer,[2,$.a]],null,null),(l()(),b["ɵted"](null,["\n  "])),(l()(),b["ɵeld"](0,null,null,7,"div",[["class","btnAll"]],null,null,null,null,null)),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,1,"div",[["class","btn"],["style","border-right:1px solid #fff;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Desksubmit()&&t),t},null,null)),(l()(),b["ɵted"](null,["去收银台结算"])),(l()(),b["ɵted"](null,["\n    "])),(l()(),b["ɵeld"](0,null,null,1,"div",[["class","btn"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.submit()&&t),t},null,null)),(l()(),b["ɵted"](null,["自主结算"])),(l()(),b["ɵted"](null,["\n  "])),(l()(),b["ɵted"](null,["\n  "])),(l()(),b["ɵand"](16777216,null,null,1,null,v)),b["ɵdid"](16384,null,0,K.i,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),b["ɵted"](null,["\n\n"]))],function(l,n){var e=n.component;l(n,5,0,"ios");l(n,8,0,"ios"),l(n,17,0,e.goodslist),l(n,27,0,0!=e.type),l(n,45,0,e.showflag1)},function(l,n){var e=n.component;l(n,4,0,b["ɵnov"](n,5)._hidden,b["ɵnov"](n,5)._sbPadding),l(n,13,0,b["ɵnov"](n,14).statusbarPadding,b["ɵnov"](n,14)._hasRefresher),l(n,22,0,e.totalnum)})}Object.defineProperty(n,"__esModule",{value:!0});var b=e(1),y=e(0),C=e(32),S=e(174),I=e(109),R=e(59),w=e(58),k=e(164),D=e(711),O=function(){function l(l,n,e,t,u,i,o,s){var a=this;this.navCtrl=l,this.navParams=n,this.httpService=e,this.nativeService=t,this.storage=u,this.app=i,this.socketService=o,this.moCtrl=s,this.img="assets/imgs/logo2.png",this.img2="assets/imgs/chone.png",this.img3="assets/imgs/unchone.png",this.img12="assets/imgs/eixin.png",this.img13="assets/imgs/chone.png",this.img4="assets/imgs/unchone.png",this.img5="assets/imgs/zhifun.png",this.img6="assets/imgs/yue.png",this.img7="assets/imgs/gift.png",this.goodslist=[],this.totalnum=0,this.Order=new k.d,this.Msg=new k.b,this.ShopID="",this.showflag=!1,this.paytype=2,this.paytype2=2,this.showflag1=!1,this.shopBH="",this.issubmit=!1,this.Money=0,this.Gift=0,this.toatal=0,this.yuenum=!1,this.giftnum=!1,this.isweb=!1,this.goodslist=n.get("listmsg"),this.type=n.get("type"),this.Order=n.get("Order"),this.ShopID=n.get("ShopID"),this.total(),this.storage.get("userinfo").then(function(l){""!=l?""==l.userinform.ID?a.navCtrl.push("LoginPage",{showflag:!0}):(a.persioninfo=l.userinform,a.Msg.GroupID=a.ShopID,a.Msg.UserID=a.persioninfo.ID,a.socketIoLoad(),a.LoadUser()):a.navCtrl.push("LoginPage",{showflag:!0}),a.isweb=!a.nativeService.isMobile()})}return l.prototype.ionViewWillLeave=function(){this.socketService.socket.disconnect()},l.prototype.ionViewDidLoad=function(){},l.prototype.slice=function(l){if(""!=l&&null!=l)return l.slice(0,15)+"..."},l.prototype.total=function(){for(var l=0;l<this.goodslist.length;l++)this.totalnum=this.totalnum+this.goodslist[l].Price*this.goodslist[l].num;this.totalnum=parseFloat(this.totalnum.toFixed(2)),this.toatal=this.totalnum},l.prototype.Desksubmit=function(){for(var l=this,n=0,e=0;e<this.goodslist.length;e++)0==this.goodslist[e].type||(n=1);if(1==n){if(void 0==this.address)return void this.nativeService.showToast("地址不能为空");if(void 0==this.phone)return void this.nativeService.showToast("电话不能为空");if(void 0==this.name)return void this.nativeService.showToast("姓名不能为空");11!=this.phone.length&&this.nativeService.showToast("请正确填写手机号")}for(var t={Adress:this.address,Phone:this.phone,ReceiveUser:this.name},u=[],i=0;i<this.goodslist.length;i++){var o=void 0;null!=(o=this.goodslist[i].xml)&&""!=o&&(o=(o=o.replace(/</g,"ling1")).replace(/>/g,"kong2")),u.push({ProId:this.goodslist[i].ProductID,Quantity:this.goodslist[i].num,Price:this.goodslist[i].Price,AttributeDescription:this.goodslist[i].Description,Gettype:this.goodslist[i].type,ProductBH:this.goodslist[i].ProductBH})}var s={ShopID:this.goodslist[0].shopid,UserID:this.persioninfo.ID,OrderTotal:this.totalnum,ShipStatusId:n,Gift:0,FranchiseeID:this.goodslist[0].FranchiseeID,address:t,goodsList:u,OrderID:this.Order.ID},a=new k.f;a.jyh="1059",a.parm=JSON.stringify(s),this.nativeService.showLoading("获取中"),this.httpService.post("/MobService/Index",a).map(function(l){return l.json()}).subscribe(function(n){l.nativeService.hideLoading();var e=JSON.parse(n.result);if(1==e.Code){l.HandOrder();var t=l.moCtrl.create("ShopsuceessPage",{shopBH:e.Msg});t.present(),t.onDidDismiss(function(n){l.app.getRootNav().setRoot("TabsPage")})}else l.nativeService.showToast(e.Msg)})},l.prototype.submit=function(){var l=this;if(this.show(),this.issubmit)return!1;for(var n=0,e=0;e<this.goodslist.length;e++)0==this.goodslist[e].type||(n=1);if(1==n){if(void 0==this.address)return void this.nativeService.showToast("地址不能为空");if(void 0==this.phone)return void this.nativeService.showToast("电话不能为空");if(void 0==this.name)return void this.nativeService.showToast("姓名不能为空");11!=this.phone.length&&this.nativeService.showToast("请正确填写手机号")}for(var t={Adress:this.address,Phone:this.phone,ReceiveUser:this.name},u=[],i=0;i<this.goodslist.length;i++){var o=void 0;null!=(o=this.goodslist[i].xml)&&""!=o&&(o=(o=o.replace(/</g,"ling1")).replace(/>/g,"kong2")),u.push({ProId:this.goodslist[i].ProductID,Quantity:this.goodslist[i].num,Price:this.goodslist[i].Price,AttributeDescription:this.goodslist[i].Description,Gettype:this.goodslist[i].type,ProductBH:this.goodslist[i].ProductBH})}var s={ShopID:this.goodslist[0].shopid,UserID:this.persioninfo.ID,OrderTotal:this.totalnum,ShipStatusId:n,Gift:0,FranchiseeID:this.goodslist[0].shopid,address:t,goodsList:u,OrderID:this.Order.ID},a=new k.f;a.jyh="1059",a.parm=JSON.stringify(s),this.nativeService.showLoading("获取中"),this.httpService.post("/MobService/Index",a).map(function(l){return l.json()}).subscribe(function(n){l.nativeService.hideLoading();var e=JSON.parse(n.result);1==e.Code?(l.shopBH=e.Msg,l.HandOrder(),l.issubmit=!0):l.nativeService.showToast(e.Msg)})},l.prototype.socketIoLoad=function(){null!=this.Msg.GroupID&&null!=this.Msg.UserID&&(this.socketService.socketAuth(),this.socketService.socket.emit("join",this.Msg),this.socketService.socket.on("groupuser",function(l){}))},l.prototype.HandOrder=function(){this.Order.Items=this.goodslist,this.Order.OnlineState=1,this.Order.groupId=this.persioninfo.RelID,this.socketService.socket.emit("groupMessage",this.Order)},l.prototype.hide=function(){var l=this;this.showflag=!1,setTimeout(function(){l.showflag1=!1},150)},l.prototype.show=function(){this.showflag1=!0,this.showflag=!0},l.prototype.LoadUser=function(){var l=this,n={UserID:this.persioninfo.ID},e=new k.f;e.jyh="1108",e.parm=JSON.stringify(n),this.httpService.post("/MobService/Index",e).map(function(l){return l.json()}).subscribe(function(n){var e=JSON.parse(n.result);"1"==e.Code&&(l.user=e.Data,console.log(l.user))})},l.prototype.UseYue=function(){if(this.user.Money<0)return!1;this.yuenum=!this.yuenum,this.Money=this.yuenum?this.user.Money>=this.toatal?this.toatal:this.user.Money:0,this.CalCuteMoney()},l.prototype.UseGift=function(){if(this.user.Gift<10)return!1;this.giftnum=!this.giftnum;if(this.giftnum){if(this.toatal<10)return!1;this.Gift=this.user.Gift>300?this.toatal<=30?parseInt(10*this.toatal+""):300:this.user.Gift>parseInt(10*this.toatal+"")?parseInt(10*this.toatal+""):this.user.Gift}else this.Gift=0;this.CalCuteMoney()},l.prototype.CalCuteMoney=function(){this.toatal=this.totalnum-this.Money-this.Gift/10,console.log(this.toatal)},l.prototype.payOrder=function(){var l=this,n={OrderID:this.Order.ID,Money:this.Money,Gift:this.Gift,OrderTotal:this.toatal,PayType:this.paytype,isweb:this.isweb?1:0},e=new k.f;e.jyh="1134",e.parm=JSON.stringify(n),this.nativeService.showLoading("支付中"),this.httpService.post("/MobService/Index",e).map(function(l){return l.json()}).subscribe(function(n){l.nativeService.hideLoading();var e=JSON.parse(n.result),t=l;if(1==e.Code)if(2==l.paytype){var u=e.Data;l.isweb?wx.chooseWXPay({timestamp:u.timestamp,nonceStr:u.noncestr,package:u.package,signType:u.signType,paySign:u.sign,success:function(l){t.navCtrl.setRoot("PaySuccessPage",{Info:t.totalnum,shopBH:t.shopBH})}}):D.a.sendPaymentRequest(u).then(function(l){t.navCtrl.setRoot("PaySuccessPage",{Info:t.totalnum,shopBH:t.shopBH})},function(n){l.nativeService.showToast(n)})}else 1==l.paytype&&AliPay.pay(e.Msg,function(n){"Success"==JSON.parse(n.result).alipay_trade_app_pay_response.msg&&(l.nativeService.showToast("支付订单成功"),t.navCtrl.setRoot("PaySuccessPage",{Info:t.totalnum,shopBH:t.shopBH}))},function(n){l.nativeService.showToast(n)});else"2"==e.Code?l.navCtrl.setRoot("PaySuccessPage",{Info:t.totalnum,shopBH:t.shopBH}):l.nativeService.showToast(e.Msg)})},l}();O=Object(y.__decorate)([Object(b.Component)({selector:"page-shop-goods-list",templateUrl:"shop-goods-list.html"}),Object(y.__metadata)("design:paramtypes",["function"==typeof(M=void 0!==C.NavController&&C.NavController)&&M||Object,"function"==typeof(_=void 0!==C.NavParams&&C.NavParams)&&_||Object,"function"==typeof(P=void 0!==R.a&&R.a)&&P||Object,"function"==typeof(T=void 0!==w.a&&w.a)&&T||Object,"function"==typeof(E=void 0!==I.b&&I.b)&&E||Object,"function"==typeof(N=void 0!==C.App&&C.App)&&N||Object,"function"==typeof(V=void 0!==S.a&&S.a)&&V||Object,"function"==typeof(x=void 0!==C.ModalController&&C.ModalController)&&x||Object])],O);var M,_,P,T,E,N,V,x,A=function(){return function(){}}();A=Object(y.__decorate)([Object(b.NgModule)({declarations:[O],imports:[C.IonicPageModule.forChild(O)]})],A);var L=e(294),U=e(295),B=e(296),G=e(297),F=e(298),j=e(299),H=e(300),W=e(301),J=e(302),X=e(22),K=e(28),z=e(165),q=e(3),$=e(7),Q=e(703),Y=e(57),Z=e(12),ll=e(30),nl=e(702),el=e(162),tl=e(77),ul=e(701),il=e(33),ol=e(6),sl=e(13),al=e(48),dl=e(169),rl=e(15),cl=e(110),fl=e(113),gl=b["ɵcrt"]({encapsulation:2,styles:[],data:{}}),pl=b["ɵccf"]("page-shop-goods-list",O,function(l){return b["ɵvid"](0,[(l()(),b["ɵeld"](0,null,null,1,"page-shop-goods-list",[],null,null,null,m,gl)),b["ɵdid"](49152,null,0,O,[ll.a,rl.a,R.a,w.a,cl.a,Z.a,S.a,fl.a],null,null)],null,null)},{},{},[]),hl=e(163),vl=e(52);e.d(n,"ShopGoodsListPageModuleNgFactory",function(){return ml});var ml=b["ɵcmf"](A,[],function(l){return b["ɵmod"]([b["ɵmpd"](512,b.ComponentFactoryResolver,b["ɵCodegenComponentFactoryResolver"],[[8,[L.a,U.a,B.a,G.a,F.a,j.a,H.a,W.a,J.a,pl]],[3,b.ComponentFactoryResolver],b.NgModuleRef]),b["ɵmpd"](4608,K.k,K.j,[b.LOCALE_ID]),b["ɵmpd"](4608,X["ɵi"],X["ɵi"],[]),b["ɵmpd"](4608,X.FormBuilder,X.FormBuilder,[]),b["ɵmpd"](512,K.b,K.b,[]),b["ɵmpd"](512,X["ɵba"],X["ɵba"],[]),b["ɵmpd"](512,X.FormsModule,X.FormsModule,[]),b["ɵmpd"](512,X.ReactiveFormsModule,X.ReactiveFormsModule,[]),b["ɵmpd"](512,hl.a,hl.a,[]),b["ɵmpd"](512,hl.b,hl.b,[]),b["ɵmpd"](512,A,A,[]),b["ɵmpd"](256,vl.a,O,[])])})},701:function(l,n,e){"use strict";function t(l){return u["ɵvid"](2,[u["ɵqud"](402653184,1,{_fixedContent:0}),u["ɵqud"](402653184,2,{_scrollContent:0}),(l()(),u["ɵeld"](0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),u["ɵncd"](null,0),(l()(),u["ɵeld"](0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),u["ɵncd"](null,1),u["ɵncd"](null,2)],null,null)}e.d(n,"a",function(){return g}),n.b=t;var u=e(1),i=e(33),o=e(3),s=e(6),a=e(13),d=e(12),r=e(48),c=e(7),f=e(30),g=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});u["ɵccf"]("ion-content",i.a,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,null,null,1,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(l,n,e){var t=!0;return"window:resize"===n&&(t=!1!==u["ɵnov"](l,1).resize()&&t),t},t,g)),u["ɵdid"](4374528,null,0,i.a,[o.a,s.a,a.a,u.ElementRef,u.Renderer,d.a,r.a,u.NgZone,[2,c.a],[2,f.a]],null,null)],null,function(l,n){l(n,0,0,u["ɵnov"](n,1).statusbarPadding,u["ɵnov"](n,1)._hasRefresher)})},{color:"color",mode:"mode",fullscreen:"fullscreen",scrollDownOnLoad:"scrollDownOnLoad"},{ionScrollStart:"ionScrollStart",ionScroll:"ionScroll",ionScrollEnd:"ionScrollEnd"},["[ion-fixed],ion-fab","*","ion-refresher"])},702:function(l,n,e){"use strict";function t(l){return u["ɵvid"](2,[(l()(),u["ɵeld"](0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),u["ɵdid"](278528,null,0,i.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}e.d(n,"a",function(){return r}),n.b=t;var u=e(1),i=e(28),o=e(162),s=e(3),a=e(77),d=e(57),r=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});u["ɵccf"]("ion-title",o.a,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,null,null,1,"ion-title",[],null,null,null,t,r)),u["ɵdid"](49152,null,0,o.a,[s.a,u.ElementRef,u.Renderer,[2,a.a],[2,d.a]],null,null)],null,null)},{color:"color",mode:"mode"},{},["*"])},703:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u["ɵdid"](278528,null,0,i.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u["ɵeld"](0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.backButtonClick(e)&&t),t},s.b,s.a)),u["ɵdid"](278528,null,0,i.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](1097728,null,0,a.a,[[8,"bar-button"],d.a,u.ElementRef,u.Renderer],null,null),(l()(),u["ɵeld"](0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](278528,null,0,i.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](147456,null,0,r.a,[d.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵeld"](0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),u["ɵdid"](278528,null,0,i.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u["ɵted"](null,["",""])),u["ɵncd"](null,0),u["ɵncd"](null,1),u["ɵncd"](null,2),(l()(),u["ɵeld"](0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u["ɵdid"](278528,null,0,i.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,3)],function(l,n){var e=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+e._mode);l(n,3,0,"back-button","back-button-"+e._mode);l(n,6,0,"back-button-icon","back-button-icon-"+e._mode),l(n,7,0,e._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+e._mode);l(n,15,0,"toolbar-content","toolbar-content-"+e._mode)},function(l,n){var e=n.component;l(n,2,0,e._hideBb),l(n,5,0,u["ɵnov"](n,7)._hidden),l(n,10,0,e._backText)})}e.d(n,"a",function(){return p}),n.b=t;var u=e(1),i=e(28),o=e(57),s=e(60),a=e(31),d=e(3),r=e(61),c=e(12),f=e(7),g=e(30),p=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});u["ɵccf"]("ion-navbar",o.a,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,null,null,1,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,t,p)),u["ɵdid"](49152,null,0,o.a,[c.a,[2,f.a],[2,g.a],d.a,u.ElementRef,u.Renderer],null,null)],null,function(l,n){l(n,0,0,u["ɵnov"](n,1)._hidden,u["ɵnov"](n,1)._sbPadding)})},{color:"color",mode:"mode",hideBackButton:"hideBackButton"},{},["[menuToggle],ion-buttons[left]","ion-buttons[start]","ion-buttons[end],ion-buttons[right]","*"])},711:function(l,n,e){"use strict";e.d(n,"a",function(){return u});var t=function(){return function(){}}();t.WXSceneSession="WXSceneSession",t.WXSceneTimeline="WXSceneTimeline",t.WXSceneFavorite="WXSceneFavorite";var u=function(){function l(){}return l.isInstalled=function(){return new Promise(function(l,n){Wechat.isInstalled(function(n){l(n)},function(l){n(l)})})},l.sendPaymentRequest=function(l){return new Promise(function(n,e){Wechat.sendPaymentRequest(l,function(l){n(l)},function(l){e(l)})})},l.ShareText=function(l){return new Promise(function(l,n){Wechat.share({text:"逛贝微信分享测试",scene:t.WXSceneSession},function(l){alert("分享成功")},function(l){alert("分享失败")})})},l}()}});