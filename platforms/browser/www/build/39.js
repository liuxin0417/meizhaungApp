webpackJsonp([39],{609:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l.d(t,"SelectPicturePageModuleNgFactory",function(){return j});var n=l(1),i=l(712),u=l(294),o=l(295),a=l(296),r=l(297),c=l(298),d=l(299),s=l(300),p=l(301),f=l(302),m=l(714),b=l(28),v=l(22),h=l(163),O=l(52),g=l(710),j=n["ɵcmf"](i.a,[],function(e){return n["ɵmod"]([n["ɵmpd"](512,n.ComponentFactoryResolver,n["ɵCodegenComponentFactoryResolver"],[[8,[u.a,o.a,a.a,r.a,c.a,d.a,s.a,p.a,f.a,m.b]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n["ɵmpd"](4608,b.k,b.j,[n.LOCALE_ID]),n["ɵmpd"](4608,v["ɵi"],v["ɵi"],[]),n["ɵmpd"](4608,v.FormBuilder,v.FormBuilder,[]),n["ɵmpd"](512,b.b,b.b,[]),n["ɵmpd"](512,v["ɵba"],v["ɵba"],[]),n["ɵmpd"](512,v.FormsModule,v.FormsModule,[]),n["ɵmpd"](512,v.ReactiveFormsModule,v.ReactiveFormsModule,[]),n["ɵmpd"](512,h.a,h.a,[]),n["ɵmpd"](512,h.b,h.b,[]),n["ɵmpd"](512,i.a,i.a,[]),n["ɵmpd"](256,O.a,g.a,[])])})},710:function(e,t,l){"use strict";l.d(t,"a",function(){return a});var n=l(0),i=l(1),u=l(32),o=l(58),a=function(){function e(e,t,l,n){this.modalCtrl=e,this.alertCtrl=t,this.actionSheetCtrl=l,this.nativeService=n,this.max=4,this.allowAdd=!0,this.allowDelete=!0,this.fileObjList=[],this.fileObjListChange=new i.EventEmitter}return e.prototype.addPicture=function(){var e=this;e.actionSheetCtrl.create({buttons:[{text:"从相册选择",handler:function(){e.nativeService.getMultiplePicture({maximumImagesCount:e.max-e.fileObjList.length,destinationType:1}).subscribe(function(t){for(var l=0,n=t;l<n.length;l++)e.getPictureSuccess(n[l])})}},{text:"拍照",handler:function(){e.nativeService.getPictureByCamera({destinationType:1}).subscribe(function(t){e.getPictureSuccess(t)})}},{text:"取消",role:"cancel"}]}).present()},e.prototype.deletePicture=function(e){var t=this;this.allowDelete&&this.alertCtrl.create({title:"确认删除？",buttons:[{text:"取消"},{text:"确定",handler:function(){t.fileObjList.splice(e,1)}}]}).present()},e.prototype.viewerPicture=function(e){for(var t=[],l=0,n=this.fileObjList;l<n.length;l++)t.push(n[l].origPath);this.modalCtrl.create("PreviewPicturePage",{initialSlide:e,picturePaths:t}).present()},e.prototype.getPictureSuccess=function(e){this.fileObjList.push({origPath:e,thumbPath:e}),this.fileObjListChange.emit(this.fileObjList)},e}();Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Number)],a.prototype,"max",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Boolean)],a.prototype,"allowAdd",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Boolean)],a.prototype,"allowDelete",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Array)],a.prototype,"fileObjList",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],a.prototype,"fileObjListChange",void 0),a=Object(n.__decorate)([Object(i.Component)({selector:"page-select-picture",templateUrl:"select-picture.html"}),Object(n.__metadata)("design:paramtypes",["function"==typeof(r=void 0!==u.ModalController&&u.ModalController)&&r||Object,"function"==typeof(c=void 0!==u.AlertController&&u.AlertController)&&c||Object,"function"==typeof(d=void 0!==u.ActionSheetController&&u.ActionSheetController)&&d||Object,"function"==typeof(s=void 0!==o.a&&o.a)&&s||Object])],a);var r,c,d,s},712:function(e,t,l){"use strict";l.d(t,"a",function(){return a});var n=l(0),i=l(1),u=l(32),o=l(710),a=function(){return function(){}}();a=Object(n.__decorate)([Object(i.NgModule)({declarations:[o.a],imports:[u.IonicPageModule.forChild(o.a)],exports:[o.a]})],a)},714:function(e,t,l){"use strict";function n(e){return r["ɵvid"](0,[(e()(),r["ɵeld"](0,null,null,1,"span",[["class","remove"],["tappable",""]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.deletePicture(e.parent.context.index)&&n),n},null,null)),(e()(),r["ɵted"](null,["×"]))],null,null)}function i(e){return r["ɵvid"](0,[(e()(),r["ɵeld"](0,null,null,6,"div",[["class","pictures"]],null,null,null,null,null)),(e()(),r["ɵted"](null,["\n    "])),(e()(),r["ɵand"](16777216,null,null,1,null,n)),r["ɵdid"](16384,null,0,c.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["ɵted"](null,["\n    "])),(e()(),r["ɵeld"](0,null,null,0,"img",[["tappable",""]],[[8,"src",4]],[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.viewerPicture(e.context.index)&&n),n},null,null)),(e()(),r["ɵted"](null,["\n  "]))],function(e,t){e(t,3,0,t.component.allowDelete)},function(e,t){e(t,5,0,r["ɵinlineInterpolate"](1,"",t.context.$implicit.thumbPath,""))})}function u(e){return r["ɵvid"](0,[(e()(),r["ɵeld"](0,null,null,4,"div",[["class","pictures add"],["tappable",""]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.addPicture()&&n),n},null,null)),(e()(),r["ɵted"](null,["\n    "])),(e()(),r["ɵeld"](0,null,null,1,"ion-icon",[["name","camera"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r["ɵdid"](147456,null,0,d.a,[s.a,r.ElementRef,r.Renderer],{name:[0,"name"]},null),(e()(),r["ɵted"](null,["\n  "]))],function(e,t){e(t,3,0,"camera")},function(e,t){e(t,2,0,r["ɵnov"](t,3)._hidden)})}function o(e){return r["ɵvid"](0,[(e()(),r["ɵeld"](0,null,null,7,"div",[["class","clear-fix"],["style","padding-top: 2px;"]],null,null,null,null,null)),(e()(),r["ɵted"](null,["\n  "])),(e()(),r["ɵand"](16777216,null,null,1,null,i)),r["ɵdid"](802816,null,0,c.h,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),r["ɵted"](null,["\n  "])),(e()(),r["ɵand"](16777216,null,null,1,null,u)),r["ɵdid"](16384,null,0,c.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["ɵted"](null,["\n"]))],function(e,t){var l=t.component;e(t,3,0,l.fileObjList),e(t,6,0,l.fileObjList.length<l.max&&l.allowAdd)},null)}function a(e){return r["ɵvid"](0,[(e()(),r["ɵand"](16777216,null,null,1,null,o)),r["ɵdid"](16384,null,0,c.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["ɵted"](null,["\n"]))],function(e,t){e(t,1,0,t.component.fileObjList)},null)}l.d(t,"a",function(){return h}),t.c=a,l.d(t,"b",function(){return O});var r=l(1),c=l(28),d=l(61),s=l(3),p=l(710),f=l(113),m=l(114),b=l(115),v=l(58),h=r["ɵcrt"]({encapsulation:2,styles:[],data:{}}),O=r["ɵccf"]("page-select-picture",p.a,function(e){return r["ɵvid"](0,[(e()(),r["ɵeld"](0,null,null,1,"page-select-picture",[],null,null,null,a,h)),r["ɵdid"](49152,null,0,p.a,[f.a,m.a,b.a,v.a],null,null)],null,null)},{max:"max",allowAdd:"allowAdd",allowDelete:"allowDelete",fileObjList:"fileObjList"},{fileObjListChange:"fileObjListChange"},[])}});