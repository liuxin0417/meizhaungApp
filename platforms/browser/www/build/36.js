webpackJsonp([36],{612:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),l.d(e,"TemplateTwoPageModuleNgFactory",function(){return O});var n=l(1),u=l(717),o=l(294),i=l(295),s=l(296),a=l(297),r=l(298),c=l(299),d=l(300),g=l(301),p=l(302),h=l(721),m=l(28),f=l(22),v=l(163),b=l(52),y=l(713),O=n["ɵcmf"](u.a,[],function(t){return n["ɵmod"]([n["ɵmpd"](512,n.ComponentFactoryResolver,n["ɵCodegenComponentFactoryResolver"],[[8,[o.a,i.a,s.a,a.a,r.a,c.a,d.a,g.a,p.a,h.b]],[3,n.ComponentFactoryResolver],n.NgModuleRef]),n["ɵmpd"](4608,m.k,m.j,[n.LOCALE_ID]),n["ɵmpd"](4608,f["ɵi"],f["ɵi"],[]),n["ɵmpd"](4608,f.FormBuilder,f.FormBuilder,[]),n["ɵmpd"](512,m.b,m.b,[]),n["ɵmpd"](512,f["ɵba"],f["ɵba"],[]),n["ɵmpd"](512,f.FormsModule,f.FormsModule,[]),n["ɵmpd"](512,f.ReactiveFormsModule,f.ReactiveFormsModule,[]),n["ɵmpd"](512,v.a,v.a,[]),n["ɵmpd"](512,v.b,v.b,[]),n["ɵmpd"](512,u.a,u.a,[]),n["ɵmpd"](256,b.a,y.a,[])])})},713:function(t,e,l){"use strict";l.d(e,"a",function(){return r});var n=l(0),u=l(59),o=l(58),i=l(1),s=l(32),a=l(164),r=function(){function t(t,e,l,n,u){this.navCtrl=t,this.navParams=e,this.nativice=l,this.httpservice=n,this.nativeService=u,this.img="assets/imgs/temporary/banner.png",this.img2="assets/imgs/temporary/shangpin.png",this.img3="assets/imgs/temporary/shangpin2.png",this.img4="assets/imgs/close.png",this.img7="assets/imgs/jian.png",this.img8="assets/imgs/jia.png",this.num=1,this.goodstypeChange=new i.EventEmitter,this.goodsshowChange=new i.EventEmitter,this.ProductAttrChange=new i.EventEmitter,this.desflagChange=new i.EventEmitter,this.FhChange=new i.EventEmitter,this.goodsidChange=new i.EventEmitter,this.guigeChange=new i.EventEmitter,this.userIDChange=new i.EventEmitter,this.seckInfoChange=new i.EventEmitter,this.shownum=-1,this.btnflag=!1,this.list=[],this.alertmsg=""}return t.prototype.ionViewDidLoad=function(){},t.prototype.hidetype=function(){this.goInCar(1)},t.prototype.noshow=function(){var t=this,e=this;this.goodsshow=!1,this.goodsshowChange.emit(this.goodsshow),setTimeout(function(){e.goodstype=!1,e.goodstypeChange.emit(t.goodstype)},150)},t.prototype.unshow=function(){},t.prototype.close=function(){var t=this;if(this.guige="",0!=this.list.length)for(var e=0;e<this.list.length;e++)this.guige=this.guige+(this.list[e].title+":")+this.list[e].RelName+";";else this.guige="";this.guigeChange.emit(this.guige);var l=this;this.goodsshow=!1,this.goodsshowChange.emit(this.goodsshow),setTimeout(function(){l.goodstype=!1,l.goodstypeChange.emit(t.goodstype)},150)},t.prototype.ChoiceAttr=function(t,e){for(var l=0;l<t.length;l++)t[l].Check=0;e.Check=1,this.ChangPrice()},t.prototype.ChangPrice=function(){var t=this;console.log(this.ProductAttr);for(var e=[],l=0;l<this.ProductAttr.AttrList.length;l++)for(var n=0;n<this.ProductAttr.AttrList[l].AttValueList.length;n++)if(1==this.ProductAttr.AttrList[l].AttValueList[n].Check){var u=new a.a;u.title=this.ProductAttr.AttrList[l].TextPrompt,u.RelName=this.ProductAttr.AttrList[l].AttValueList[n].Value,u.Name=this.ProductAttr.AttrList[l].AttValueList[n].Name,u.Value=this.ProductAttr.AttrList[l].AttValueList[n].ID,e.push(u)}this.list=e;var o={ProductID:this.ProductAttr.ProductID,lstAttrValue:e,FranceID:this.Fh},i=new a.f;i.jyh="1025",i.parm=JSON.stringify(o),this.httpservice.post("/MobService/Index",i).map(function(t){return t.json()}).subscribe(function(l){var n=JSON.parse(l.result);if(1==n.Code){t.ProductAttr.ProductPrice=n.Data,t.proBH=n.Data.ProductBH,t.StockQuantity=n.Data.VirtualStock;for(var u=0;u<t.ProductAttr.AttrList.length;u++)void 0!=e[u]||0==t.StockQuantity?0!=t.StockQuantity?t.btnflag=!0:(t.btnflag=!1,t.alertmsg="商品暂无货"):(t.alertmsg="请先选择物品型号",t.btnflag=!1)}else t.nativice.showToast(n.Msg)})},t.prototype.goInCar=function(t){var e,l=this;if(e=1==t?this.list:"",""!=this.userID){var n={UserID:this.userID,FranchiseeID:this.Fh,ProductID:this.goodsid,Num:this.num,lstAttrValue:e,ProBH:"",ActivityID:null!=this.seckInfo?this.seckInfo.ActivityID:"",ActivityType:null!=this.seckInfo?this.seckInfo.AcType:0},u=new a.f;u.jyh=null!=this.seckInfo?"1118":"1027",u.jyh="1027",u.parm=JSON.stringify(n),this.nativeService.showLoading("获取中"),this.httpservice.post("/MobService/Index",u).map(function(t){return t.json()}).subscribe(function(t){l.nativeService.hideLoading();var e=JSON.parse(t.result);1==e.Code?(l.nativeService.showToast(e.Msg),l.close()):l.nativeService.showToast(e.Msg)})}else this.nativice.showToast("添加失败，请先登录再加入购物车")},t.prototype.buyStrict=function(t){var e,l=this;if(e=1==t?this.list:"",""!=this.userID){var n={UserID:this.userID,ProductID:this.goodsid,Num:this.num,AttributesXml:e},u=new a.f;u.jyh="1139",u.parm=JSON.stringify(n),this.nativeService.showLoading("获取中"),this.httpservice.post("/MobService/Index",u).map(function(t){return t.json()}).subscribe(function(t){l.nativeService.hideLoading();var n=JSON.parse(t.result);1==n.Code?(l.nativeService.showToast(n.Msg),l.navCtrl.push("SettlementPage",{userID:l.userID,ordermsg:n.Data,list:"",single:!0,AttributesXml:e,ProductID:l.goodsid}),l.close()):l.nativeService.showToast(n.Msg)})}else this.nativice.showToast("请先登录再购买")},t.prototype.alertmessage=function(){this.nativeService.showToast(this.alertmsg)},t.prototype.addnum=function(){this.num++},t.prototype.jiannum=function(){this.num>1&&this.num--},t}();Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Boolean)],r.prototype,"goodstype",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"goodstypeChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Boolean)],r.prototype,"goodsshow",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"goodsshowChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type","function"==typeof(c=void 0!==a.g&&a.g)&&c||Object)],r.prototype,"ProductAttr",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"ProductAttrChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Boolean)],r.prototype,"desflag",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"desflagChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",String)],r.prototype,"Fh",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"FhChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",String)],r.prototype,"goodsid",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"goodsidChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",String)],r.prototype,"guige",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"guigeChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",String)],r.prototype,"userID",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"userIDChange",void 0),Object(n.__decorate)([Object(i.Input)(),Object(n.__metadata)("design:type",Object)],r.prototype,"seckInfo",void 0),Object(n.__decorate)([Object(i.Output)(),Object(n.__metadata)("design:type",Object)],r.prototype,"seckInfoChange",void 0),r=Object(n.__decorate)([Object(i.Component)({selector:"page-template-two",templateUrl:"template-two.html"}),Object(n.__metadata)("design:paramtypes",["function"==typeof(d=void 0!==s.NavController&&s.NavController)&&d||Object,"function"==typeof(g=void 0!==s.NavParams&&s.NavParams)&&g||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(h=void 0!==u.a&&u.a)&&h||Object,"function"==typeof(m=void 0!==o.a&&o.a)&&m||Object])],r);var c,d,g,p,h,m},717:function(t,e,l){"use strict";l.d(e,"a",function(){return s});var n=l(0),u=l(1),o=l(32),i=l(713),s=function(){return function(){}}();s=Object(n.__decorate)([Object(u.NgModule)({declarations:[i.a],imports:[o.IonicPageModule.forChild(i.a)],exports:[i.a]})],s)},721:function(t,e,l){"use strict";function n(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,3,"div",[["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.ChoiceAttr(t.parent.context.$implicit.AttValueList,t.context.$implicit)&&n),n},null,null)),r["ɵdid"](278528,null,0,c.g,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer],{ngClass:[0,"ngClass"]},null),r["ɵpod"]({true:0,false:1}),(t()(),r["ɵted"](null,["","\n          "]))],function(t,e){t(e,1,0,t(e,2,0,"checkdiv","nocheckdiv")[1==e.context.$implicit.Check])},function(t,e){t(e,3,0,e.context.$implicit.Value)})}function u(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,10,"div",[["class","typeitem"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,1,"div",[["class","goodsTitle"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["",""])),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,4,"div",[["class","goodsType"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n          "])),(t()(),r["ɵand"](16777216,null,null,1,null,n)),r["ɵdid"](802816,null,0,c.h,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵted"](null,["\n      "]))],function(t,e){t(e,8,0,e.context.$implicit.AttValueList)},function(t,e){t(e,3,0,e.context.$implicit.TextPrompt)})}function o(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,7,"div",[["class","buyBtn"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,1,"span",[["class","more_btn2"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.goInCar(1)&&n),n},null,null)),(t()(),r["ɵted"](null,["加入购物车"])),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,1,"span",[["class","more_btn2"],["style","background:#e4393c"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.buyStrict(1)&&n),n},null,null)),(t()(),r["ɵted"](null,["立即购买"])),(t()(),r["ɵted"](null,["\n    "]))],null,null)}function i(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,7,"div",[["class","buyBtn2"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.alertmessage()&&n),n},null,null)),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,1,"span",[["class","more_btn2"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["加入购物车"])),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,1,"span",[["class","more_btn2"],["style","background:#666;"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["立即购买"])),(t()(),r["ɵted"](null,["\n    "]))],null,null)}function s(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,59,"div",[["class","cover"]],null,null,null,null,null)),r["ɵdid"](278528,null,0,c.g,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["ɵpod"]({true:0,false:1}),(t()(),r["ɵted"](null,["\n  "])),(t()(),r["ɵeld"](0,null,null,0,"div",[["class","clickbtn"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.close()&&n),n},null,null)),(t()(),r["ɵted"](null,["\n  "])),(t()(),r["ɵeld"](0,null,null,52,"div",[["class","alertpart"]],null,null,null,null,null)),r["ɵdid"](278528,null,0,c.g,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r["ɵpod"]({true:0,false:1}),(t()(),r["ɵted"](null,["\n    "])),(t()(),r["ɵeld"](0,null,null,17,"div",[["class","picPart"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.unshow()&&n),n},null,null)),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,0,"img",[["alt","img2"],["class","goodspic"]],[[8,"src",4]],null,null,null,null)),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,0,"img",[["alt",""],["class","closebtn"],["tappable",""]],[[8,"src",4]],[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.close()&&n),n},null,null)),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,10,"div",[["class","goods-detail"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,4,"div",[["style","color:#ff4f4f"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["￥\n          "])),(t()(),r["ɵeld"](0,null,null,1,"span",[["style","font-size:1.5em;"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n            ","\n          "])),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,1,"div",[["style","line-height:20px;"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["",""])),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵted"](null,["\n    "])),(t()(),r["ɵted"](null,["\n    "])),(t()(),r["ɵeld"](0,null,null,22,"div",[["class","goodscontent"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵand"](16777216,null,null,1,null,u)),r["ɵdid"](802816,null,0,c.h,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,14,"div",[["class","addnum"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,3,"div",[["style","border-right:none;text-align:center;line-height:20px;"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.jiannum()&&n),n},null,null)),(t()(),r["ɵted"](null,["\n          "])),(t()(),r["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,1,"div",[["style","line-height:20px;text-align:center"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["",""])),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵeld"](0,null,null,3,"div",[["style","border-left:none;text-align:center;font-size:15px;line-height:20px;"],["tappable",""]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.addnum()&&n),n},null,null)),(t()(),r["ɵted"](null,["\n          "])),(t()(),r["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(t()(),r["ɵted"](null,["\n        "])),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵted"](null,["\n      "])),(t()(),r["ɵeld"](0,null,null,0,"div",[["style","height:50px;width:100%;"]],null,null,null,null,null)),(t()(),r["ɵted"](null,["\n    "])),(t()(),r["ɵted"](null,["\n\n    "])),(t()(),r["ɵand"](16777216,null,null,1,null,o)),r["ɵdid"](16384,null,0,c.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["ɵted"](null,["\n    "])),(t()(),r["ɵand"](16777216,null,null,1,null,i)),r["ɵdid"](16384,null,0,c.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["ɵted"](null,["\n  "])),(t()(),r["ɵted"](null,["\n"]))],function(t,e){var l=e.component;t(e,1,0,"cover",t(e,2,0,"goshow","gohide")[l.goodsshow]);t(e,7,0,"alertpart",t(e,8,0,"goup","godown")[l.goodsshow]),t(e,32,0,l.ProductAttr.AttrList),t(e,54,0,l.btnflag),t(e,57,0,!l.btnflag)},function(t,e){var l=e.component;t(e,12,0,l.ProductAttr.ProductImage),t(e,14,0,l.img4),t(e,21,0,l.ProductAttr.ProductPrice),t(e,25,0,l.ProductAttr.ProductName),t(e,38,0,l.img7),t(e,42,0,l.num),t(e,46,0,l.img8)})}function a(t){return r["ɵvid"](0,[(t()(),r["ɵand"](16777216,null,null,1,null,s)),r["ɵdid"](16384,null,0,c.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.goodstype)},null)}l.d(e,"a",function(){return f}),e.c=a,l.d(e,"b",function(){return v});var r=l(1),c=l(28),d=l(713),g=l(30),p=l(15),h=l(58),m=l(59),f=r["ɵcrt"]({encapsulation:2,styles:[],data:{}}),v=r["ɵccf"]("page-template-two",d.a,function(t){return r["ɵvid"](0,[(t()(),r["ɵeld"](0,null,null,1,"page-template-two",[],null,null,null,a,f)),r["ɵdid"](49152,null,0,d.a,[g.a,p.a,h.a,m.a,h.a],null,null)],null,null)},{goodstype:"goodstype",goodsshow:"goodsshow",ProductAttr:"ProductAttr",desflag:"desflag",Fh:"Fh",goodsid:"goodsid",guige:"guige",userID:"userID",seckInfo:"seckInfo"},{goodstypeChange:"goodstypeChange",goodsshowChange:"goodsshowChange",ProductAttrChange:"ProductAttrChange",desflagChange:"desflagChange",FhChange:"FhChange",goodsidChange:"goodsidChange",guigeChange:"guigeChange",userIDChange:"userIDChange",seckInfoChange:"seckInfoChange"},[])}});