webpackJsonp([87],{683:function(n,l,e){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,0,"img",[["alt",""],["class","activity_pic"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.activity)})}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["￥",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.ActivityPrice.toFixed(2))})}function u(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["￥",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.HDPrice.toFixed(2))})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,30,"div",[["class","goods-item"],["tappable",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.gotoGoodDetail(n.context.$implicit.ID)&&t),t},null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵand"](16777216,null,null,1,null,t)),r["ɵdid"](16384,null,0,V.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,1,"div",[["class","goods_item_list2"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,11,"div",[["class","goods_item_list3"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵand"](16777216,null,null,1,null,i)),r["ɵdid"](16384,null,0,V.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵand"](16777216,null,null,1,null,u)),r["ɵdid"](16384,null,0,V.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵeld"](0,null,null,1,"span",[["style","color:#999;text-decoration: line-through;margin-left:5px;"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["￥",""])),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,5,"div",[["class","goods_item_list4"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵeld"](0,null,null,1,"span",[["style","margin-right:10px;"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["","销量"])),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵted"](null,["\n      "]))],function(n,l){n(l,3,0,1==l.context.$implicit.ISHD),n(l,14,0,1!=l.context.$implicit.ISHD),n(l,17,0,1==l.context.$implicit.ISHD)},function(n,l){n(l,5,0,null==l.context.$implicit.PicUrl?l.component.middle:l.context.$implicit.PicUrl),n(l,8,0,l.context.$implicit.Name),n(l,20,0,l.context.$implicit.OldPrice.toFixed(2)),n(l,27,0,l.context.$implicit.SalNum)})}function a(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"div",[["class","nogoods"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    暂无相关产品\n  "]))],null,null)}function d(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,6,"ion-infinite-scroll",[["threshold","30px"]],null,[[null,"ionInfinite"]],function(n,l,e){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.doInfinite(e)&&t),t},null,null)),r["ɵdid"](1196032,null,0,z.a,[k.a,r.NgZone,r.ElementRef,L.a],{threshold:[0,"threshold"]},{ionInfinite:"ionInfinite"}),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,2,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","加载中..."]],[[1,"state",0]],null,null,$.b,$.a)),r["ɵdid"](114688,null,0,A.a,[z.a,J.a],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](null,["\n  "]))],function(n,l){n(l,1,0,"30px");n(l,4,0,"bubbles","加载中...")},function(n,l){n(l,3,0,r["ɵnov"](l,4).inf.state)})}function s(n){return r["ɵvid"](0,[r["ɵqud"](402653184,1,{inputpart:0}),(n()(),r["ɵted"](null,["\n\n"])),(n()(),r["ɵeld"](0,null,null,33,"ion-header",[["style","height:48px;"]],null,null,null,null,null)),r["ɵdid"](16384,null,0,U.a,[J.a,r.ElementRef,r.Renderer,[2,G.a]],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,29,"div",[["class","home_header"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,26,"div",[["class","header-inside"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,3,"div",[["class","qrcode"],["tappable",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goback()&&t),t},null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,13,"div",[["class","search"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,3,"div",[["class","searchimg"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,[[1,0],["inputpart",1]],null,5,"input",[["class","searchpart"],["ng-focus",""],["placeholder","逛贝"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.Enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,i=n.component;return"input"===l&&(t=!1!==r["ɵnov"](n,22)._handleInput(e.target.value)&&t),"blur"===l&&(t=!1!==r["ɵnov"](n,22).onTouched()&&t),"compositionstart"===l&&(t=!1!==r["ɵnov"](n,22)._compositionStart()&&t),"compositionend"===l&&(t=!1!==r["ɵnov"](n,22)._compositionEnd(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(i.message=e)&&t),"keyup.Enter"===l&&(t=!1!==i.search()&&t),t},null,null)),r["ɵdid"](16384,null,0,H.DefaultValueAccessor,[r.Renderer2,r.ElementRef,[2,H.COMPOSITION_BUFFER_MODE]],null,null),r["ɵprd"](1024,null,H.NG_VALUE_ACCESSOR,function(n){return[n]},[H.DefaultValueAccessor]),r["ɵdid"](671744,null,0,H.NgModel,[[8,null],[8,null],[8,null],[2,H.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),r["ɵprd"](2048,null,H.NgControl,null,[H.NgModel]),r["ɵdid"](16384,null,0,H.NgControlStatus,[H.NgControl],null,null),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,3,"div",[["class","message"],["tappable",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.search()&&t),t},null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n\n"])),(n()(),r["ɵeld"](0,null,null,18,"ion-content",[["style","background:#F7F7F7;"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var t=!0;return"window:resize"===l&&(t=!1!==r["ɵnov"](n,38).resize()&&t),t},q.b,q.a)),r["ɵdid"](4374528,null,0,k.a,[J.a,B.a,L.a,r.ElementRef,r.Renderer,Z.a,K.a,r.NgZone,[2,G.a],[2,Q.a]],null,null),(n()(),r["ɵted"](1,["\n  "])),(n()(),r["ɵeld"](0,null,1,8,"div",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,4,"div",[["class","goods-list"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵand"](16777216,null,null,1,null,o)),r["ɵdid"](802816,null,0,V.h,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](1,["\n  "])),(n()(),r["ɵand"](16777216,null,1,1,null,a)),r["ɵdid"](16384,null,0,V.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](1,["\n  "])),(n()(),r["ɵand"](16777216,null,1,1,null,d)),r["ɵdid"](16384,null,0,V.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](1,["\n"]))],function(n,l){var e=l.component;n(l,24,0,e.message),n(l,46,0,e.list),n(l,51,0,e.noshow),n(l,54,0,e.isshow)},function(n,l){var e=l.component;n(l,11,0,e.img9),n(l,18,0,e.img11),n(l,21,0,r["ɵnov"](l,26).ngClassUntouched,r["ɵnov"](l,26).ngClassTouched,r["ɵnov"](l,26).ngClassPristine,r["ɵnov"](l,26).ngClassDirty,r["ɵnov"](l,26).ngClassValid,r["ɵnov"](l,26).ngClassInvalid,r["ɵnov"](l,26).ngClassPending),n(l,31,0,e.img11),n(l,37,0,r["ɵnov"](l,38).statusbarPadding,r["ɵnov"](l,38)._hasRefresher)})}Object.defineProperty(l,"__esModule",{value:!0});var r=e(1),c=e(0),p=e(32),g=e(109),f=e(59),h=e(58),m=e(164),v=e(166),S=function(){function n(n,l,e,t,i,u){this.navCtrl=n,this.navParams=l,this.httpService=e,this.nativeService=t,this.storage=i,this.Inservice=u,this.img9="assets/imgs/fanhui2.png",this.img10="assets/imgs/cheat.png",this.img11="assets/imgs/search.png",this.middle="assets/imgs/new/middle.png",this.list=[],this.img="assets/imgs/temporary/shangpin2.png",this.activity="assets/imgs/new/activity.png",this.padding=new m.e,this.noshow=!1,this.isshow=!0,this.CouponID=this.navParams.get("CouponID"),this.storage.get("userinfo").then(function(n){}),this.FranchiseeID="",null==this.CouponID||void 0==this.CouponID||""==this.CouponID?this.CouponID="":(this.message="",this.search2())}return n.prototype.ionViewDidLoad=function(){var n=this;setTimeout(function(){n.inputpart.nativeElement.focus()},600)},n.prototype.goback=function(){this.navCtrl.pop()},n.prototype.search=function(){var n=this;if(""!=this.message){var l={ipageStart:this.padding.ipageStart,pageSize:this.padding.pageSize,FranchiseeID:this.FranchiseeID,goodName:this.message,CouponID:this.CouponID},e=new m.f;e.jyh="1037",e.parm=JSON.stringify(l),this.nativeService.showLoading("获取中"),this.httpService.post("/MobService/Index",e).map(function(n){return n.json()}).subscribe(function(l){n.nativeService.hideLoading();var e=JSON.parse(l.result);console.info(e),1==e.Code&&(n.list=e.Data,n.noshow=0==n.list.length)})}else this.nativeService.showToast("请填写查询信息")},n.prototype.search2=function(){var n=this,l={ipageStart:this.padding.ipageStart,pageSize:this.padding.pageSize,FranchiseeID:this.FranchiseeID,goodName:this.message,CouponID:this.CouponID},e=new m.f;e.jyh="1037",e.parm=JSON.stringify(l),this.nativeService.showLoading("获取中"),this.httpService.post("/MobService/Index",e).map(function(n){return n.json()}).subscribe(function(l){n.nativeService.hideLoading();var e=JSON.parse(l.result);1==e.Code&&(n.list=e.Data,n.noshow=0==n.list.length)})},n.prototype.gotoGoodDetail=function(n){this.navCtrl.push("GoodDetailPage",{Fh:this.FranchiseeID,goodsid:n})},n.prototype.doInfinite=function(n){var l=this;if(this.list.length<(this.padding.ipageStart+1)*this.padding.pageSize)this.isshow=!1;else{this.padding.ipageStart+=1;var e={ipageStart:this.padding.ipageStart,pageSize:this.padding.pageSize,FranchiseeID:this.FranchiseeID,goodName:this.message,CouponID:this.CouponID},t=new m.f;t.jyh="1037",t.parm=JSON.stringify(e),this.Inservice.getAsyncData("/MobService/Index",t).map(function(n){return n.json()}).subscribe(function(e){setTimeout(function(){var t;if(null!=(t=JSON.parse(e.result).Data)||void 0!=t)for(var i=0;i<t.length;i++)l.list.push(t[i]);e.length<l.padding.pageSize&&(l.isshow=!1),n.complete()},1e3)})}},n}();Object(c.__decorate)([Object(r.ViewChild)("inputpart"),Object(c.__metadata)("design:type","function"==typeof(b=void 0!==r.ElementRef&&r.ElementRef)&&b||Object)],S.prototype,"inputpart",void 0),S=Object(c.__decorate)([Object(r.Component)({selector:"page-search",templateUrl:"search.html"}),Object(c.__metadata)("design:paramtypes",["function"==typeof(C=void 0!==p.NavController&&p.NavController)&&C||Object,"function"==typeof(I=void 0!==p.NavParams&&p.NavParams)&&I||Object,"function"==typeof(y=void 0!==f.a&&f.a)&&y||Object,"function"==typeof(D=void 0!==h.a&&h.a)&&D||Object,"function"==typeof(R=void 0!==g.b&&g.b)&&R||Object,"function"==typeof(w=void 0!==v.a&&v.a)&&w||Object])],S);var b,C,I,y,D,R,w,x=function(){return function(){}}();x=Object(c.__decorate)([Object(r.NgModule)({declarations:[S],imports:[p.IonicPageModule.forChild(S)]})],x);var _=e(294),O=e(295),F=e(296),N=e(297),j=e(298),T=e(299),E=e(300),M=e(301),P=e(302),V=e(28),z=e(111),k=e(33),L=e(13),$=e(704),A=e(167),J=e(3),U=e(165),G=e(7),H=e(22),q=e(701),B=e(6),Z=e(12),K=e(48),Q=e(30),W=e(15),X=e(110),Y=r["ɵcrt"]({encapsulation:2,styles:[],data:{}}),nn=r["ɵccf"]("page-search",S,function(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"page-search",[],null,null,null,s,Y)),r["ɵdid"](49152,null,0,S,[Q.a,W.a,f.a,h.a,X.a,v.a],null,null)],null,null)},{},{},[]),ln=e(163),en=e(52);e.d(l,"SearchPageModuleNgFactory",function(){return tn});var tn=r["ɵcmf"](x,[],function(n){return r["ɵmod"]([r["ɵmpd"](512,r.ComponentFactoryResolver,r["ɵCodegenComponentFactoryResolver"],[[8,[_.a,O.a,F.a,N.a,j.a,T.a,E.a,M.a,P.a,nn]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["ɵmpd"](4608,V.k,V.j,[r.LOCALE_ID]),r["ɵmpd"](4608,H["ɵi"],H["ɵi"],[]),r["ɵmpd"](4608,H.FormBuilder,H.FormBuilder,[]),r["ɵmpd"](512,V.b,V.b,[]),r["ɵmpd"](512,H["ɵba"],H["ɵba"],[]),r["ɵmpd"](512,H.FormsModule,H.FormsModule,[]),r["ɵmpd"](512,H.ReactiveFormsModule,H.ReactiveFormsModule,[]),r["ɵmpd"](512,ln.a,ln.a,[]),r["ɵmpd"](512,ln.b,ln.b,[]),r["ɵmpd"](512,x,x,[]),r["ɵmpd"](256,en.a,S,[])])})},701:function(n,l,e){"use strict";function t(n){return i["ɵvid"](2,[i["ɵqud"](402653184,1,{_fixedContent:0}),i["ɵqud"](402653184,2,{_scrollContent:0}),(n()(),i["ɵeld"](0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),i["ɵncd"](null,0),(n()(),i["ɵeld"](0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),i["ɵncd"](null,1),i["ɵncd"](null,2)],null,null)}e.d(l,"a",function(){return g}),l.b=t;var i=e(1),u=e(33),o=e(3),a=e(6),d=e(13),s=e(12),r=e(48),c=e(7),p=e(30),g=i["ɵcrt"]({encapsulation:2,styles:[],data:{}});i["ɵccf"]("ion-content",u.a,function(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var t=!0;return"window:resize"===l&&(t=!1!==i["ɵnov"](n,1).resize()&&t),t},t,g)),i["ɵdid"](4374528,null,0,u.a,[o.a,a.a,d.a,i.ElementRef,i.Renderer,s.a,r.a,i.NgZone,[2,c.a],[2,p.a]],null,null)],null,function(n,l){n(l,0,0,i["ɵnov"](l,1).statusbarPadding,i["ɵnov"](l,1)._hasRefresher)})},{color:"color",mode:"mode",fullscreen:"fullscreen",scrollDownOnLoad:"scrollDownOnLoad"},{ionScrollStart:"ionScrollStart",ionScroll:"ionScroll",ionScrollEnd:"ionScrollEnd"},["[ion-fixed],ion-fab","*","ion-refresher"])},704:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,2,"div",[["class","infinite-loading-spinner"]],null,null,null,null,null)),(n()(),o["ɵeld"](0,null,null,1,"ion-spinner",[],[[2,"spinner-paused",null]],null,null,a.b,a.a)),o["ɵdid"](114688,null,0,d.a,[s.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null)],function(n,l){n(l,2,0,l.component.loadingSpinner)},function(n,l){n(l,1,0,o["ɵnov"](l,2)._paused)})}function i(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,0,"div",[["class","infinite-loading-text"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.loadingText)})}function u(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,4,"div",[["class","infinite-loading"]],null,null,null,null,null)),(n()(),o["ɵand"](16777216,null,null,1,null,t)),o["ɵdid"](16384,null,0,r.i,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),o["ɵand"](16777216,null,null,1,null,i)),o["ɵdid"](16384,null,0,r.i,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,e.loadingSpinner),n(l,4,0,e.loadingText)},null)}e.d(l,"a",function(){return g}),l.b=u;var o=e(1),a=e(303),d=e(78),s=e(3),r=e(28),c=e(167),p=e(111),g=o["ɵcrt"]({encapsulation:2,styles:[],data:{}});o["ɵccf"]("ion-infinite-scroll-content",c.a,function(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"ion-infinite-scroll-content",[],[[1,"state",0]],null,null,u,g)),o["ɵdid"](114688,null,0,c.a,[p.a,s.a],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,o["ɵnov"](l,1).inf.state)})},{loadingSpinner:"loadingSpinner",loadingText:"loadingText"},{},[])}});