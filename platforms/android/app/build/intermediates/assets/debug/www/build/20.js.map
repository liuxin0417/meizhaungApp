{"version":3,"sources":["../../src/pages/stock-manage/stock-manage.module.ts","../../src/pages/stock-manage/stock-manage.ts"],"names":[],"mappings":"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","file":"20.js?v=107","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StockManagePage } from './stock-manage';\n\n@NgModule({\n  declarations: [\n    StockManagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(StockManagePage),\n  ],\n})\nexport class StockManagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stock-manage/stock-manage.module.ts","import { Component,ChangeDetectorRef  } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { NativeService } from './../../providers/NativeService';\nimport { Parameter } from './../../model/Model';\nimport { HttpService } from './../../providers/HttpService';\n\n/**\n * Generated class for the StockManagePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-stock-manage',\n  templateUrl: 'stock-manage.html',\n})\nexport class StockManagePage {\n  code = \"assets/imgs/code2.png\";\n  msg:any;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private nativeService: NativeService,\n    private httpService: HttpService,\n    public cd: ChangeDetectorRef) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad StockManagePage');\n  }\n  //扫码\n  QRcode() {\n    // this.sendSKU('6903148271308');\n    // return;\n    if (this.nativeService.isWeiXinPub()) {\n\n    } else {\n      this.nativeService.showToast(\"请在微信中使用扫码功能\");\n      return\n    }\n    var that = this;\n    wx.scanQRCode({\n      desc: 'scanQRCode desc',\n      needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\n      scanType: [\"qrCode\", \"barCode\"], // 可以指定扫二维码还是一维码，默认二者都有\n      success: function (res) {\n        //  alert(res.resultStr);\n        if (res.resultStr.indexOf(\"http\") != -1) {\n          that.nativeService.showToast(\"请扫描正确条码\");\n          return\n        } else {\n          // alert(\"错误\")\n        }\n        if (res.resultStr.indexOf(\",\") != -1) {\n          that.sendSKU(res.resultStr.split(\",\")[1]);\n        } else {\n          that.sendSKU(res.resultStr);\n        }\n      },\n      error: function (res) {\n        if (res.errMsg.indexOf('function_not_exist') > 0) {\n          alert('版本过低请升级')\n        }\n      }\n    });\n  }\n\n  sendSKU(item) {\n    var that=this;\n    var userInfo = {\n      SKU: item\n    }\n    console.info(userInfo)\n    var parameter = new Parameter();\n    parameter.jyh = \"2008\";\n    parameter.parm = JSON.stringify(userInfo);\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      var result = JSON.parse(res.result);\n      if (result.Code == \"1\") {\n        this.msg=[];\n        result.Data.sku=item;\n        // alert(\"完成\");\n        that.msg.push(result.Data);\n        this.cd.detectChanges();  \n      } else {\n        this.nativeService.showToast(result.Msg);\n      }\n    })\n  }\n  savemsg(){\n    var userInfo = {\n      ID:this.msg[0].ID,\n      Inventory:this.msg[0].Inventory\n    }\n    console.info(userInfo)\n    var parameter = new Parameter();\n    parameter.jyh = \"2009\";\n    parameter.parm = JSON.stringify(userInfo);\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      var result = JSON.parse(res.result);\n      console.info(result)\n      if (result.Code == \"1\") {\n        this.nativeService.showToast(result.Msg);\n      } else {\n        this.nativeService.showToast(result.Msg);\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stock-manage/stock-manage.ts"],"sourceRoot":""}