{"version":3,"sources":["../../src/pages/group-buy-list/group-buy-list.module.ts","../../src/pages/group-buy-list/group-buy-list.ts"],"names":[],"mappings":"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","file":"162.js?v=107","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GroupBuyListPage } from './group-buy-list';\n\n@NgModule({\n  declarations: [\n    GroupBuyListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GroupBuyListPage),\n  ],\n})\nexport class GroupBuyListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group-buy-list/group-buy-list.module.ts","import { InfiniteScrollService } from './../../providers/InfiniteScrollService';\nimport { Padding, Parameter } from './../../model/Model';\nimport { Storage } from '@ionic/storage';\nimport { NativeService } from './../../providers/NativeService';\nimport { HttpService } from './../../providers/HttpService';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, InfiniteScroll } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-group-buy-list',\n  templateUrl: 'group-buy-list.html',\n})\nexport class GroupBuyListPage {\n  address: any;\n  padding = new Padding();\n  GroupList: any;\n  isshow = true;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public httpService: HttpService, public nativeService: NativeService,\n    public storage: Storage, public Inservice: InfiniteScrollService) {\n    this.storage.get(\"userinfo\").then(val => {\n      if (val != null && val != \"\") {\n        this.address = val.address;\n        this.padding.pageSize = 16;\n        this.Load();\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n\n  }\n  Load() {\n    var userInfo = {\n      FranceID: this.address.FranchiseeID,\n      ipageStart: this.padding.ipageStart,\n      pageSize: this.padding.pageSize,\n    };\n    var parameter = new Parameter();\n    parameter.jyh = \"1089\";\n    parameter.parm = JSON.stringify(userInfo);\n    this.nativeService.showLoading(\"获取中\");\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      this.nativeService.hideLoading();\n      var result = JSON.parse(res.result);\n      if (result.Code == 1) {\n        this.GroupList = result.Data;\n      }\n    });\n  }\n\n  gotoGroupDetail(item) {\n    this.navCtrl.push(\"GroupBuyDetailPage\", {\n      Group: item\n    });\n  }\n  doInfinite(infiniteScroll: InfiniteScroll) {\n    /* infiniteScroll.enable(true); */\n    if (this.GroupList.length < (this.padding.ipageStart + 1) * this.padding.pageSize) {\n      this.isshow = false;\n      return;\n    }\n    this.padding.ipageStart += 1;\n    var pageInfo = {\n      ipageStart: this.padding.ipageStart,\n      pageSize: this.padding.pageSize,\n      FranceID: this.address.FranchiseeID,\n    };\n    var parm = new Parameter();\n    parm.jyh = \"1089\";\n    parm.parm = JSON.stringify(pageInfo);\n    this.Inservice.getAsyncData(\"/MobService/Index\", parm).map(res => res.json()).subscribe((newData) => {\n      setTimeout(() => {\n        var newList: any;\n        var msg = JSON.parse(newData.result);\n        newList = msg.Data;\n        if (newList != null || newList != undefined) {\n          for (var i = 0; i < newList.length; i++) {\n            this.GroupList.push(newList[i]);\n          }\n        }\n        if (newData.length < this.padding.pageSize) {\n          this.isshow = false;\n        }\n        infiniteScroll.complete();\n      }, 1000);\n    });\n  }\n  slice(string){\n    if(string!=''&&string!=null){\n      return string.slice(0,20)+\"...\"\n    }else{\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group-buy-list/group-buy-list.ts"],"sourceRoot":""}