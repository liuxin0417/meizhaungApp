{"version":3,"sources":["../../src/pages/cash/cash.module.ts","../../src/pages/cash/cash.ts"],"names":[],"mappings":"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","file":"180.js?v=107","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CashPage } from './cash';\n\n@NgModule({\n  declarations: [\n    CashPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CashPage),\n  ],\n})\nexport class CashPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cash/cash.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { HttpService } from '../../providers/HttpService';\nimport { NativeService } from '../../providers/NativeService';\nimport { UserInfo } from '../../model/Model';\nimport { Utils } from '../../providers/Utils';\nimport { Storage } from '@ionic/storage';\nimport { Parameter } from './../../model/Model';\n/**\n * Generated class for the CashPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-cash',\n  templateUrl: 'cash.html',\n})\nexport class CashPage {\n  private userID = \"\";\n  private userInfo = new UserInfo();\n  private Money = 0;\n  private ReMoney = 0;\n  private ActiveMoney = 0;\n  private GiftRate = 0.01;\n  private ReMoneyStr = \"0\";\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private storage: Storage,\n    private httpService: HttpService,\n    private nativeService: NativeService,\n  ) {\n\n  }\n\n  ionViewWillEnter() {\n    this.storage.get(\"userinfo\").then(val => {\n\n      if (val != \"\" && val != null) {\n        if (val.userinform.ID == \"e\") {\n          this.navCtrl.push(\"LoginPage\", { showflag: true });\n        } else {\n          this.userID = val.userinform.ID;\n          this.getUsergift();\n        }\n        // this.load2();\n      } else {\n        this.navCtrl.push(\"LoginPage\", { showflag: true });\n      }\n    });\n  }\n\n  getUsergift() {\n    var userInfo = {\n      UserID: this.userID,\n    };\n    let that=this;\n    //console.info(userInfo)\n    var parameter = new Parameter();\n    parameter.jyh = \"2001\";\n    parameter.parm = JSON.stringify(userInfo);\n    this.nativeService.showLoading(\"获取中\");\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      this.nativeService.hideLoading();\n      var result = JSON.parse(res.result);\n      //console.info(result)\n      if (result.Code == 1) {\n        that.ActiveMoney = result.Data.Gift;\n        that.GiftRate=result.Data.Rate;\n        that.ReMoney = that.ActiveMoney;\n      } else {\n        this.nativeService.showToast(result.Msg);\n      }\n\n    })\n  }\n  //计算积分剩余\n  SetMoney(evt:any) {\n    this.nativeService.log('cash','SetMoney >'+ evt.key);\n    if(this.Money<0)\n    {\n      this.Money=null;\n      this.ReMoney = this.ActiveMoney;\n      return;\n    }\n    this.ReMoney =( this.ActiveMoney*100 - (this.Money /this.GiftRate)*100)/100;\n    if (this.ReMoney < 0) {\n      this.Money = null;\n      this.ReMoney = this.ActiveMoney;\n    }\n    this.MoneyFormat();\n  }\n  checkNum(evt)\n  {\n    this.nativeService.log('cash','checkNum >'+ evt.key=='-');\n    if(evt.key=='-' || evt.key=='.')\n    {\n      return false;\n    }\n\n  }\n  giftfocus() {\n    if (this.Money == 0) {\n      this.Money = null;\n    }\n  }\n  Recharge() {\n\n    if (this.Money > 0 && (this.Money /this.GiftRate) < this.ActiveMoney && this.Money >= 100 && (this.Money % 100 == 0)) {\n\n      var userInfo = {\n        UserID: this.userID,\n        money: this.Money/this.GiftRate\n      };\n      //console.info(userInfo)\n      var parameter = new Parameter();\n      parameter.jyh = \"2002\";\n      parameter.parm = JSON.stringify(userInfo);\n      this.nativeService.showLoading(\"获取中\");\n      this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n        this.nativeService.hideLoading();\n        var result = JSON.parse(res.result);\n        //console.info(result)\n        if (result.Code == 1) {\n          this.ActiveMoney -= this.Money;\n          this.Money = 0;\n          this.nativeService.showToast(result.Msg);\n        } else {\n          this.nativeService.showToast(result.Msg);\n        }\n\n      })\n\n    }\n    else {\n      this.nativeService.showToast('最少提现金额100元，提现金额需为100的倍数。');\n    }\n  }\n\n  //格式化数字\n  MoneyFormat() {\n    if (this.ActiveMoney != undefined && this.ReMoney != undefined) {\n      // this.ActiveMoney = Utils.MoneyFormat(this.userInfo.ActiveMoney.toString());\n      this.ReMoneyStr = Utils.MoneyFormat(this.ReMoney.toString());\n    } else {\n\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cash/cash.ts"],"sourceRoot":""}