{"version":3,"sources":["../../src/pages/publish-articles/publish-articles.module.ts","../../src/pages/publish-articles/publish-articles.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACS;AAUzD,IAAa,yBAAyB;IAAtC;IAAwC,CAAC;IAAD,gCAAC;AAAD,CAAC;AAA5B,yBAAyB;IARrC,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,8EAAmB;SACpB;QACD,OAAO,EAAE;YACP,8DAAe,CAAC,QAAQ,CAAC,8EAAmB,CAAC;SAC9C;KACF,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACZtC,wFAAwF;AAC7B;AACX;AACP;AACY;AAC6E;AACxE;AACI;AAS9D,IAAa,mBAAmB;IAuB9B,6BAAmB,OAAsB,EAChC,SAAoB,EACnB,QAAwB,EACzB,OAAgB,EAChB,SAA0B,EACzB,WAAwB,EACxB,aAA4B,EAC5B,eAAsC,EACtC,SAA0B;QARpC,iBAsBC;QAtBkB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QACnB,aAAQ,GAAR,QAAQ,CAAgB;QACzB,YAAO,GAAP,OAAO,CAAS;QAChB,cAAS,GAAT,SAAS,CAAiB;QACzB,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC5B,oBAAe,GAAf,eAAe,CAAuB;QACtC,cAAS,GAAT,SAAS,CAAiB;QA7BpC,QAAG,GAAG,wBAAwB,CAAC;QAC/B,SAAI,GAAG,0BAA0B,CAAC;QAClC,SAAI,GAAG,0BAA0B,CAAC;QAClC,SAAI,GAAG,0BAA0B,CAAC;QAClC,SAAI,GAAG,0BAA0B,CAAC;QAClC,SAAI,GAAG,yBAAyB,CAAC;QAGzB,UAAK,GAAW,EAAE,CAAC;QACnB,cAAS,GAAW,EAAE,CAAC;QACvB,WAAM,GAAW,EAAE,CAAC;QACpB,gBAAW,GAAY,IAAI,CAAC;QAC5B,gBAAW,GAAc,EAAE,CAAC;QAC5B,QAAG,GAAG,CAAC,CAAC;QAChB,yBAAyB;QACjB,UAAK,GAAG,KAAK,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QACd,cAAS,GAAG,EAAE,CAAC;QACf,WAAM,GAAG,EAAE,CAAC;QACZ,YAAO,GAAG,EAAE,CAAC;QACb,QAAG,GAAG,CAAC,CAAC;QAUd,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,aAAG;YACnC,EAAE,CAAC,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;oBAC5B,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAC,EAAC,QAAQ,EAAC,IAAI,EAAC,CAAC,CAAC;gBACjD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,UAAU,CAAC;gBACjC,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAC,EAAC,QAAQ,EAAC,IAAI,EAAC,CAAC,CAAC;YACjD,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAc,GAAd;IAEA,CAAC;IAED,mCAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IACD,wCAAU,GAAV;QAAA,iBAUC;QATC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,EAAE;YAC7C,IAAI,EAAE,IAAI,CAAC,WAAW;SACvB,CAAC,CAAC;QACH,KAAK,CAAC,YAAY,CAAC,cAAI;YACrB,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACjB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC5B,CAAC;QACH,CAAC,CAAC;QACF,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IACD,oCAAM,GAAN;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,gCAAgC;QAClC,CAAC;IACH,CAAC;IAED,UAAU;IACV,qCAAO,GAAP;QAAA,iBAkCC;QAjCC,sBAAsB;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACvC,MAAM,CAAC;QACT,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACvC,MAAM,CAAC;QACT,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YACzC,MAAM,CAAC;QACT,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC7D,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,SAAS,GAAU,EAAE,CAAC;gBAC1B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACjD,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC/C,CAAC;gBACD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBACtC,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAG;oBAC5D,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnD,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAChC,CAAC;QACH,CAAC;IACH,CAAC;IAED,yCAAW,GAAX,UAAY,SAAgB;QAA5B,iBA6CC;QA5CC,sBAAsB;QACtB,IAAI,IAAI,GAAG,EAAE;QACb,IAAI,SAAS,GAAG,IAAI,+DAAS,EAAE,CAAC;QAChC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,GAAG;gBACL,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE;gBACxB,IAAI,EAAE,SAAS;aAChB;YAED,SAAS,CAAC,GAAG,GAAG,MAAM,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,GAAG;gBACL,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;gBACtB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE;gBACxB,IAAI,EAAE,SAAS;aAChB;YACD,SAAS,GAAG,IAAI,+DAAS,EAAE,CAAC;YAC5B,SAAS,CAAC,GAAG,GAAG,MAAM,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,GAAG;gBACL,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;gBACtB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE;gBACxB,IAAI,EAAE,SAAS;aAChB;YACD,SAAS,GAAG,IAAI,+DAAS,EAAE,CAAC;YAC5B,SAAS,CAAC,GAAG,GAAG,MAAM,CAAC;QACzB,CAAC;QAED,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,SAAS,CAAC,aAAG;YACxF,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpC,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YACjC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACrB,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBACrC,KAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IACD,cAAc;IACd,wCAAU,GAAV;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC1B,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,OAAO;oBACb,OAAO,EAAE;wBACP,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC;4BACpC,kBAAkB,EAAE,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BACxD,eAAe,EAAE,CAAC,kBAAiB;yBACpC,CAAC,CAAC,SAAS,CAAC,cAAI;4BACf,GAAG,CAAC,CAAY,UAAc,EAAd,KAAU,IAAI,EAAd,cAAc,EAAd,IAAc;gCAAzB,IAAI,GAAG;gCACV,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;6BAC7B;wBACH,CAAC,CAAC,CAAC;oBACL,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC;4BACpC,eAAe,EAAE,CAAC,kBAAiB;yBACpC,CAAC,CAAC,SAAS,CAAC,aAAG;4BACd,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;wBAC9B,CAAC,CAAC,CAAC;oBACL,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;iBACf;aACF;SACF,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,2CAAa,GAAb,UAAc,CAAC;QAAf,iBAeC;QAdC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE;gBACxB;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAChC,CAAC;iBACF;aACA;SACF,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,2CAAa,GAAb,UAAc,KAAK;QACjB,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,GAAG,CAAC,CAAgB,UAAgB,EAAhB,SAAI,CAAC,WAAW,EAAhB,cAAgB,EAAhB,IAAgB;YAA/B,IAAI,OAAO;YACd,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACrC;QACD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,cAAc,EAAE,YAAY,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IACjH,CAAC;IAED,yCAAW,GAAX,UAAY,KAAK;QACf,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,cAAc,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IACjH,CAAC;IAGO,+CAAiB,GAAzB,UAA0B,GAAG;QAC3B,IAAI,OAAO,GAAY,EAAE,UAAU,EAAE,GAAG,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC;QAC7D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC;IAED,0CAAY,GAAZ;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,EAAE,CAAC,WAAW,CAAC;YACb,KAAK,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;YAC1B,QAAQ,EAAE,CAAC,UAAU,EAAE,YAAY,CAAC;YACpC,UAAU,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC;YAC/B,OAAO,EAAE,UAAU,GAAG;gBACpB,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;gBAC5B,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,2CAA2C;gBACvE,8CAA8C;gBAC9C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBACxB,IAAI;gBACJ,uBAAuB;gBACvB,qCAAqC;gBACrC,8BAA8B;gBAC9B,qCAAqC;gBACrC,qEAAqE;gBACrE,MAAM;gBACN,MAAM;YACR,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,sCAAQ,GAAR,UAAS,QAAkB;QACzB,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,OAAO,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;QAC7B,EAAE,CAAC,WAAW,CAAC;YACb,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,UAAU,GAAG;gBACpB,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;gBAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC9B,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,UAAU,CAAC;wBACT,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACxB,CAAC,EAAE,GAAG,CAAC,CAAC;gBACV,CAAC;gBACD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;gBAC/B,2CAA2C;gBAC3C,sCAAsC;gBACtC,IAAI;YACN,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,6CAAe,GAAf,UAAgB,IAAI;QAClB,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,EAAE,CAAC,YAAY,CAAC;YACd,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,kBAAkB;SACvC,CAAC,CAAC;IACL,CAAC;IAED,6CAAe,GAAf,UAAgB,CAAC;QAAjB,iBAiBC;QAhBC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE;gBACxB;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACzB,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC1B,KAAI,CAAC,GAAG,EAAE,CAAC;oBACb,CAAC;iBACF;aACA;SACF,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IACD,sBAAsB;IACtB,sEAAsE;IACtE,6BAA6B;IAC7B,QAAQ;IACR,IAAI;IACJ,oCAAM,GAAN,UAAO,IAAI;QACT,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED,6CAAe,GAAf,UAAgB,QAAQ;QAAxB,iBAQC;QAPC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,aAAG;YACrD,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;gBACvB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0EAAY,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC7C,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC/B,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACH,0BAAC;AAAD,CAAC;AA7TuB;IAArB,gEAAS,CAAC,SAAS,CAAC;;kDAAO;AADjB,mBAAmB;IAJ/B,gEAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;OACG;KACrC,CAAC;iEAwByC;QACrB,6DAAS;QACT,gEAAc;QAChB,8DAAO;QACL,4EAAe;QACZ,+EAAW;QACT,oEAAa;QACX,gEAAqB;QAC3B,eAAe;AA+RrC;SA9TY,mBAAmB,gB","file":"138.js?v=107","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PublishArticlesPage } from './publish-articles';\n\n@NgModule({\n  declarations: [\n    PublishArticlesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PublishArticlesPage),\n  ],\n})\nexport class PublishArticlesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/publish-articles/publish-articles.module.ts","// import { TemplateThreePage } from './../../componnets/template-three/template-three';\nimport { fileViewPath } from './../../providers/Constants';\nimport { Parameter } from './../../model/Model';\nimport { Storage } from '@ionic/storage';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController, ActionSheetController, AlertController } from 'ionic-angular';\nimport { HttpService } from '../../providers/HttpService';\nimport { NativeService } from '../../providers/NativeService';\nimport { FileObj } from '../../model/FileObj';\ndeclare var wx: any;\n\n@IonicPage()\n@Component({\n  selector: 'page-publish-articles',\n  templateUrl: 'publish-articles.html',\n})\nexport class PublishArticlesPage {\n  @ViewChild('myInput') input;\n  img = \"assets/imgs/guanbi.png\";\n  img1 = \"assets/imgs/publish1.png\";\n  img2 = \"assets/imgs/publish2.png\";\n  img3 = \"assets/imgs/publish3.png\";\n  img4 = \"assets/imgs/publish4.png\";\n  img5 = \"assets/imgs/xiangji.png\";\n  userInfo: any;\n  publishType: number;\n  private Title: string = \"\";\n  private ShortDesc: string = \"\";\n  private TypeID: string = \"\";\n  private allowDelete: boolean = true;\n  private fileObjList: FileObj[] = [];\n  private max = 6;\n  //private allowAdd: true;\n  private isweb = false;\n  private localIds = [];\n  private serverIds = [];\n  private imgUrl = [];\n  private WimgUrl = [];\n  private len = 0;\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private viewCtrl: ViewController,\n    public storage: Storage,\n    public modalCtrl: ModalController,\n    private httpService: HttpService,\n    private nativeService: NativeService,\n    private actionSheetCtrl: ActionSheetController,\n    private alertCtrl: AlertController) {\n    this.publishType = this.navParams.get(\"type\");\n    this.isweb = !this.nativeService.isMobile();\n    this.storage.get(\"userinfo\").then(val => {\n      if (val != \"\" && val != null) {\n        if (val.userinform.ID == \"\") {\n          this.navCtrl.push(\"LoginPage\",{showflag:true});\n        } else {\n          this.userInfo = val.userinform;\n        }\n      } else {\n        this.navCtrl.push(\"LoginPage\",{showflag:true});\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  close() {\n    this.viewCtrl.dismiss();\n  }\n  alerttheme() {\n    let modal = this.modalCtrl.create('ThemePage', {\n      type: this.publishType\n    });\n    modal.onDidDismiss(data => {\n      if (data != null) {\n        this.TypeID = data.TypeID;\n      }\n    })\n    modal.present();\n  }\n  getImg() {\n    if (this.nativeService.isMobile()) {\n      this.addPicture();\n    } else {\n      this.addWxPicture();\n      //console.log(\"非手机环境，请求访问微信图片\");\n    }\n  }\n\n  /**发布文章 */\n  SendImg() {\n    //console.log(\"是否进入\");\n    if (this.Title == \"\") {\n      this.nativeService.showToast(\"标题不能为空\");\n      return;\n    }\n    if (this.ShortDesc == \"\") {\n      this.nativeService.showToast(\"内容不能为空\");\n      return;\n    }\n    if (this.TypeID == \"\") {\n      this.nativeService.showToast(\"文章类别不能为空\");\n      return;\n    }\n    if (!this.isweb) {\n      if (this.fileObjList == null || this.fileObjList.length <= 0) {\n        this.SendArticle([]);\n      } else {\n        var filearray: any[] = [];\n        for (var i = 0; i < this.fileObjList.length; i++) {\n          filearray.push(this.fileObjList[i].origPath);\n        }\n        this.nativeService.showLoading(\"提交中\");\n        this.nativeService.uploadFileByMutiTranser(filearray).then(val => {\n          this.SendArticle(val);\n        });\n      }\n    } else {\n      if (this.imgUrl == null || this.imgUrl.length <= 0) {\n        this.SendArticle([]);\n      } else {\n        this.SendArticle(this.imgUrl);\n      }\n    }\n  }\n\n  SendArticle(filearray: any[]) {\n    //console.log(\"是否进入\");\n    var Info = {}\n    var parameter = new Parameter();\n    if (this.publishType == 1) {\n      Info = {\n        Title: this.Title,\n        ShortDesc: this.ShortDesc,\n        TypeID: this.TypeID,\n        UserID: this.userInfo.ID,\n        file: filearray\n      }\n\n      parameter.jyh = \"1084\";\n    } else if (this.publishType == 2) {\n      Info = {\n        Title: this.Title,\n        Detail: this.ShortDesc,\n        TypeID: this.TypeID,\n        UserID: this.userInfo.ID,\n        file: filearray\n      }\n      parameter = new Parameter();\n      parameter.jyh = \"1074\";\n    } else if (this.publishType == 3) {\n      Info = {\n        Title: this.Title,\n        Detail: this.ShortDesc,\n        TypeID: this.TypeID,\n        UserID: this.userInfo.ID,\n        file: filearray\n      }\n      parameter = new Parameter();\n      parameter.jyh = \"1077\";\n    }\n\n    parameter.parm = JSON.stringify(Info);\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(val => {\n      var result = JSON.parse(val.result);\n      this.nativeService.hideLoading();\n      if (result.Code == 1) {\n        this.nativeService.showToast(\"提交成功\");\n        this.viewCtrl.dismiss();\n      }\n    })\n  }\n  /**App端获取图片 */\n  addPicture() {//新增照片\n    let that = this;\n    that.actionSheetCtrl.create({\n      buttons: [\n        {\n          text: '从相册选择',\n          handler: () => {\n            that.nativeService.getMultiplePicture({//从相册多选\n              maximumImagesCount: (that.max - that.fileObjList.length),\n              destinationType: 1//期望返回的图片格式,1图片路径\n            }).subscribe(imgs => {\n              for (let img of <string[]>imgs) {\n                that.getPictureSuccess(img);\n              }\n            });\n          }\n        },\n        {\n          text: '拍照',\n          handler: () => {\n            that.nativeService.getPictureByCamera({\n              destinationType: 1//期望返回的图片格式,1图片路径\n            }).subscribe(img => {\n              that.getPictureSuccess(img);\n            });\n          }\n        },\n        {\n          text: '取消',\n          role: 'cancel'\n        }\n      ]\n    }).present();\n  }\n\n  deletePicture(i) {//删除照片\n    if (!this.allowDelete) {\n      return;\n    }\n    this.alertCtrl.create({\n      title: '确认删除？',\n      buttons: [{ text: '取消' },\n      {\n        text: '确定',\n        handler: () => {\n          this.fileObjList.splice(i, 1);\n        }\n      }\n      ]\n    }).present();\n  }\n\n  viewerPicture(index) {//照片预览\n    let picturePaths = [];\n    for (let fileObj of this.fileObjList) {\n      picturePaths.push(fileObj.origPath);\n    }\n    this.modalCtrl.create('PreviewPicturePage', { 'initialSlide': index, 'picturePaths': picturePaths }).present();\n  }\n\n  viewPicture(index) {\n    this.modalCtrl.create('PreviewPicturePage', { 'initialSlide': index, 'picturePaths': this.WimgUrl }).present();\n  }\n\n\n  private getPictureSuccess(img) {\n    let fileObj = <FileObj>{ 'origPath': img, 'thumbPath': img };\n    this.fileObjList.push(fileObj);\n  }\n\n  addWxPicture() {\n    var that = this;\n    wx.chooseImage({\n      count: that.max - that.len, // 默认9\n      sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\n      sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n      success: function (res) {\n        var localIds = res.localIds;\n        that.len = localIds.length; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\n        // for (var i = 0; i < localIds.length; i++) {\n        that.WxUpLoad(localIds);\n        // }\n        // wx.getLocalImgData({\n        //   localId: localIds, // 图片的localID\n        //   success: function (res) {\n        //     var localData = res.localData;\n        //     that.localIds = localData; // localData是图片的base64数据，可以用img标签显示\n        //   }\n        // });\n      }\n    });\n  }\n  WxUpLoad(localIds: string[]) {\n    var that = this;\n    var localId = localIds.pop();\n    wx.uploadImage({\n      localId: localId,\n      success: function (res) {\n        var serverId = res.serverId;\n        that.serverIds.push(serverId);\n        if (localIds.length > 0) {\n          that.WxUpLoad(localIds);\n        } else {\n          setTimeout(() => {\n            that.input.setFocus();\n          }, 500);\n        }\n        that.WxDownLoadImage(serverId);\n        // if (that.len == that.serverIds.length) {\n        //   that.WxDownLoadImage(serverId);  \n        // }\n      }\n    });\n  }\n\n  viewerWxPicture(item) {\n    alert(item);\n    var that = this;\n    wx.previewImage({\n      current: item, // 当前显示图片的http链接\n      urls: that.localIds // 需要预览的图片http链接列表\n    });\n  }\n\n  deleteWxPicture(i) {//删除照片\n    if (!this.allowDelete) {\n      return;\n    }\n    this.alertCtrl.create({\n      title: '确认删除？',\n      buttons: [{ text: '取消' },\n      {\n        text: '确定',\n        handler: () => {\n          this.imgUrl.splice(i, 1);\n          this.WimgUrl.splice(i, 1);\n          this.len--;\n        }\n      }\n      ]\n    }).present();\n  }\n  // WxDownLoadImage() {\n  //   this.nativeService.uploadWxMoreFile(this.serverIds).then(val => {\n  //     this.SendArticle(val);\n  //   });\n  // }\n  Change(item) {\n    return this.nativeService.assembleHTML(item);\n  }\n\n  WxDownLoadImage(serverId) {\n    this.nativeService.uploadWxFile(serverId).subscribe(res => {\n      var result = JSON.parse(res.result);\n      if (result.Code == \"1\") {\n        this.WimgUrl.push(fileViewPath + result.Msg);\n        this.imgUrl.push(result.Msg);\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/publish-articles/publish-articles.ts"],"sourceRoot":""}