{"version":3,"sources":["../../src/pages/income/income.module.ts","../../src/pages/income/income.ts"],"names":[],"mappings":"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","file":"158.js?v=107","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { IncomePage } from './income';\n\n@NgModule({\n  declarations: [\n    IncomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(IncomePage),\n  ],\n})\nexport class IncomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/income/income.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,InfiniteScroll } from 'ionic-angular';\nimport { HttpService } from '../../providers/HttpService';\nimport { NativeService } from '../../providers/NativeService';\nimport { Storage } from '@ionic/storage';\nimport { UserInfo, Parameter, Padding } from '../../model/Model';\nimport { InfiniteScrollService } from '../../providers/InfiniteScrollService';\n\n/**\n * Generated class for the MoneyInOutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-income',\n  templateUrl: 'income.html',\n})\nexport class IncomePage {\n  goto = \"assets/imgs/jinru--hui.png\";\n  private userID = \"\";\n  userInfo:any;\n  private list=[];\n  private isshow = true;\n  private padding = new Padding();\n  constructor(public navCtrl: NavController, public navParams: NavParams, private httpService: HttpService,\n    private nativeService: NativeService, public storage: Storage,public Inservice: InfiniteScrollService) {\n      this.padding.pageSize=15;\n      this.storage.get(\"userinfo\").then(val => {\n\n        if (val != \"\" && val != null) {\n          if (val.userinform.ID == \"\") {\n            this.navCtrl.push(\"LoginPage\",{showflag:true});\n          } else {\n            this.userID = val.userinform.ID;\n            this.getUserIncomeList(null);\n          }\n          // this.load2();\n        } else {\n          this.navCtrl.push(\"LoginPage\",{showflag:true});\n        }\n      });\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad MoneyInOutPage');\n  }\n\n  getUserIncomeList(backfun)\n  {\n    var userInfo = {\n      UserID: this.userID,\n      ipageStart: this.padding.ipageStart,\n      pageSize: this.padding.pageSize\n    };\n    //console.info(userInfo)\n    var parameter = new Parameter();\n    parameter.jyh = \"2006\";\n    parameter.parm = JSON.stringify(userInfo);\n    this.nativeService.showLoading(\"获取中\");\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      this.nativeService.hideLoading();\n      var result = JSON.parse(res.result);\n      //console.info(result)\n      if (result.Code == 1) {\n        var newList=result.Data;\n        console.info(newList)\n        if (newList != null || newList != undefined) {\n          for (var i = 0; i < newList.length; i++) {\n            this.list.push(newList[i]);\n          }\n        }\n        if (newList.length < this.padding.pageSize) {\n          this.isshow = false;\n        }\n        if(backfun!=null ||backfun != undefined )\n        {\n          backfun();\n        }\n\n      } else {\n        this.nativeService.showToast(result.Msg);\n      }\n\n    })\n  }\n\n  doInfinite(infiniteScroll: InfiniteScroll) {\n    /* infiniteScroll.enable(true); */\n    console.info(\"运行了下拉加载\");\n    if (this.list.length < (this.padding.ipageStart + 1) * this.padding.pageSize) {\n      this.isshow = false;\n      return;\n    }\n    this.padding.ipageStart += 1;\n    this.getUserIncomeList(function(){\n      infiniteScroll.complete();\n    });\n    \n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/income/income.ts"],"sourceRoot":""}