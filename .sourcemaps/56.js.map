{"version":3,"sources":["../../src/pages/my-community/my-community.module.ts","../../src/pages/my-community/my-community.ts"],"names":[],"mappings":"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","file":"56.js?v=107","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyCommunityPage } from './my-community';\n\n@NgModule({\n  declarations: [\n    MyCommunityPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyCommunityPage),\n  ],\n})\nexport class MyCommunityPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-community/my-community.module.ts","import { NativeService } from './../../providers/NativeService';\nimport { HttpService } from './../../providers/HttpService';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, InfiniteScroll } from 'ionic-angular';\nimport { Parameter, Padding } from '../../model/Model';\nimport { InfiniteScrollService } from '../../providers/InfiniteScrollService';\nimport { Storage } from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-my-community',\n  templateUrl: 'my-community.html',\n})\nexport class MyCommunityPage {\n  articleList = [];\n  type: any;\n  newtype = 0;\n  colorShow = 0;\n  private isshow = true;\n  private padding = new Padding();\n  private usertype = 0;\n  private userID: any = \"\";\n  img = \"assets/imgs/fanhu-withe.png\";\n  img2 = \"assets/imgs/temporary/IMG_3162_05.png\";\n  img3 = \"assets/imgs/temporary/personbg.png\";\n  img5 = \"assets/imgs/temporary/IMG_3162_09.png\";\n  img6 = \"assets/imgs/temporary/IMG_3162_12.png\";\n  img7 = \"assets/imgs/temporary/IMG_3162_15.png\";\n  img8 = \"assets/imgs/vhjekan.png\";\n  img9 = \"assets/imgs/pinglun.png\";\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public httpService: HttpService,\n    public nativeService: NativeService,\n    public Inservice: InfiniteScrollService, public storage: Storage) {\n    this.usertype = this.navParams.get(\"usertype\");\n    console.log(this.usertype);\n    this.storage.get(\"userinfo\").then(val => {\n      if (val != null && val != \"\" && val.userinform != null) {\n        if (val.userinform.ID == \"\") {\n          this.navCtrl.push('LoginPage');\n        } else {\n          this.userID = val.userinform.ID;\n          //this.Load(this.type);\n          this.loadmore();\n        }\n      } else {\n        this.navCtrl.push('LoginPage');\n      }\n    });\n\n    /* this.userID = this.navParams.get(\"UserID\");\n    this.Load(this.type); */\n  }\n\n  ionViewDidLoad() {\n\n  }\n  loadmore() {\n    if (this.usertype == 1) {\n      this.Load(0);\n    } else if (this.usertype == 2) {\n      this.Load2(\"1112\");\n    } else if (this.usertype == 3) {\n      this.Load2(\"1113\");\n    }\n  }\n  gotoarticle(item) {\n    this.navCtrl.push(\"PersonalArticlePage\", {\n      ID: item.ID,\n      type: this.usertype\n    });\n  }\n  goback() {\n    this.navCtrl.pop();\n  }\n  /**获取类别下的文章 */\n  Load(type) {\n    this.isshow = true;\n    this.padding.ipageStart = 0;\n    this.colorShow = type;\n    var userInfo = {\n      UserID: this.userID,\n      type: type,\n      ipageStart: this.padding.ipageStart,\n      pageSize: this.padding.pageSize,\n    };\n    ////console.info(userInfo);\n    var parameter = new Parameter();\n    parameter.jyh = \"1111\";\n    parameter.parm = JSON.stringify(userInfo);\n    this.nativeService.showLoading(\"获取中\");\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      this.nativeService.hideLoading();\n      var result = JSON.parse(res.result);\n      ////console.info(result)\n      if (result.Code == 1) {\n        this.articleList = result.Data;\n        if (this.articleList.length < this.padding.pageSize) {\n          this.isshow = false;\n        }\n      } else {\n\n      }\n    });\n  }\n  Load2(entercode) {\n    this.isshow = true;\n    this.padding.ipageStart = 0;\n    var userInfo = {\n      UserID: this.userID,\n      ipageStart: this.padding.ipageStart,\n      pageSize: this.padding.pageSize,\n    };\n    ////console.info(userInfo);\n    var parameter = new Parameter();\n    parameter.jyh = entercode;\n    parameter.parm = JSON.stringify(userInfo);\n    this.nativeService.showLoading(\"获取中\");\n    this.httpService.post(\"/MobService/Index\", parameter).map(res => res.json()).subscribe(res => {\n      this.nativeService.hideLoading();\n      var result = JSON.parse(res.result);\n      ////console.info(result);\n      if (result.Code == 1) {\n        this.articleList = result.Data;\n        if (this.articleList.length < this.padding.pageSize) {\n          this.isshow = false;\n        }\n      } else {\n\n      }\n    });\n  }\n  /**下拉刷新 */\n  doInfinite(infiniteScroll: InfiniteScroll) {\n    /* infiniteScroll.enable(true); */\n    //console.log(\"是否进入下拉刷新\");\n    if (this.articleList.length < (this.padding.ipageStart + 1) * this.padding.pageSize) {\n      this.isshow = false;\n      return;\n    }\n    this.padding.ipageStart += 1;\n    var pageInfo2 = {}\n    var entercode = \"1111\"\n    if (this.usertype == 1) {\n      pageInfo2 = {\n        ipageStart: this.padding.ipageStart,\n        pageSize: this.padding.pageSize,\n        UserID: this.userID,\n        type: this.newtype\n      };\n      entercode = \"1111\"\n    } else if (this.usertype == 2) {\n      pageInfo2 = {\n        ipageStart: this.padding.ipageStart,\n        pageSize: this.padding.pageSize,\n        UserID: this.userID,\n      };\n      entercode = \"1112\"\n    } else if (this.usertype == 3) {\n      pageInfo2 = {\n        ipageStart: this.padding.ipageStart,\n        pageSize: this.padding.pageSize,\n        UserID: this.userID,\n      };\n      entercode = \"1113\"\n    }\n    var pageInfo = pageInfo2;\n    var parm = new Parameter();\n    parm.jyh = entercode;\n    parm.parm = JSON.stringify(pageInfo);\n    this.Inservice.getAsyncData(\"/MobService/Index\", parm).map(res => res.json()).subscribe((newData) => {\n      setTimeout(() => {\n        var newList: any;\n        var msg = JSON.parse(newData.result);\n        newList = msg.Data;\n        if (newList != null || newList != undefined) {\n          for (var i = 0; i < newList.length; i++) {\n            this.articleList.push(newList[i]);\n          }\n        }\n        if (newData.length < this.padding.pageSize) {\n          this.isshow = false;\n        }\n        infiniteScroll.complete();\n      }, 500);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-community/my-community.ts"],"sourceRoot":""}